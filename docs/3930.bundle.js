"use strict";(self.webpackChunkabaplint_playground=self.webpackChunkabaplint_playground||[]).push([[3930,5996,6995],{8897(e,t,n){n.d(t,{KC:()=>equalsIfDefined,S3:()=>itemsEquals,dB:()=>structuralEquals,nx:()=>strictEquals,r:()=>itemEquals});var r=n(13338);const strictEquals=(e,t)=>e===t;function itemsEquals(e=strictEquals){return(t,n)=>r.aI(t,n,e)}function itemEquals(){return(e,t)=>e.equals(t)}function equalsIfDefined(e,t,n){if(void 0!==n){const r=e;return null==r||null==t?t===r:n(r,t)}{const t=e;return(e,n)=>null==e||null==n?n===e:t(e,n)}}function structuralEquals(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!structuralEquals(e[n],t[n]))return!1;return!0}if(e&&"object"==typeof e&&t&&"object"==typeof t&&Object.getPrototypeOf(e)===Object.prototype&&Object.getPrototypeOf(t)===Object.prototype){const n=e,r=t,s=Object.keys(n),i=Object.keys(r),a=new Set(i);if(s.length!==i.length)return!1;for(const e of s){if(!a.has(e))return!1;if(!structuralEquals(n[e],r[e]))return!1}return!0}return!1}new WeakMap},12146(e,t,n){n.d(t,{OI:()=>recomputeInitiallyAndOnChange,Rl:()=>mapObservableArrayCached,Yd:()=>observableSignal,ZX:()=>derivedObservableWithCache,eP:()=>observableFromEventOpts,lk:()=>constObservable,t:()=>derivedConstOnceDefined,y0:()=>observableFromEvent,yQ:()=>observableSignalFromEvent});n(2106);var r=n(10998),s=n(34442),i=n(49855),a=n(18366),o=n(34950),u=n(8897);function constObservable(e){return new ConstObservable(e)}class ConstObservable extends s.zV{constructor(e){super(),this.value=e}get debugName(){return this.toString()}get(){return this.value}addObserver(e){}removeObserver(e){}toString(){return`Const: ${this.value}`}}function observableFromEvent(...e){let t,n,r;return 3===e.length?[t,n,r]=e:[n,r]=e,new FromEventObservable(new i.nA(t,void 0,r),n,r,(()=>FromEventObservable.globalTransaction),u.nx)}function observableFromEventOpts(e,t,n){return new FromEventObservable(new i.nA(e.owner,e.debugName,e.debugReferenceFn??n),t,n,(()=>FromEventObservable.globalTransaction),e.equalsFn??u.nx)}class FromEventObservable extends s.ZK{constructor(e,t,n,r,i){super(),this._debugNameData=e,this.event=t,this._getValue=n,this._getTransaction=r,this._equalityComparator=i,this.hasValue=!1,this.handleEvent=e=>{const t=this._getValue(e),n=this.value,r=!this.hasValue||!this._equalityComparator(n,t);let i=!1;r&&(this.value=t,this.hasValue&&(i=!0,(0,s.PO)(this._getTransaction(),(e=>{(0,o.tZ)()?.handleFromEventObservableTriggered(this,{oldValue:n,newValue:t,change:void 0,didChange:r,hadValue:this.hasValue});for(const t of this.observers)e.updateObserver(t,this),t.handleChange(this,void 0)}),(()=>{const e=this.getDebugName();return"Event fired"+(e?`: ${e}`:"")}))),this.hasValue=!0),i||(0,o.tZ)()?.handleFromEventObservableTriggered(this,{oldValue:n,newValue:t,change:void 0,didChange:r,hadValue:this.hasValue})}}getDebugName(){return this._debugNameData.getDebugName(this)}get debugName(){const e=this.getDebugName();return"From Event"+(e?`: ${e}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){if(this.subscription)return this.hasValue||this.handleEvent(void 0),this.value;return this._getValue(void 0)}}function observableSignalFromEvent(e,t){return new FromEventObservableSignal(e,t)}!function(e){e.Observer=FromEventObservable,e.batchEventsGlobally=function batchEventsGlobally(e,t){let n=!1;void 0===FromEventObservable.globalTransaction&&(FromEventObservable.globalTransaction=e,n=!0);try{t()}finally{n&&(FromEventObservable.globalTransaction=void 0)}}}(observableFromEvent||(observableFromEvent={}));class FromEventObservableSignal extends s.ZK{constructor(e,t){super(),this.debugName=e,this.event=t,this.handleEvent=()=>{(0,s.Rn)((e=>{for(const t of this.observers)e.updateObserver(t,this),t.handleChange(this,void 0)}),(()=>this.debugName))}}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0}get(){}}function observableSignal(e){return"string"==typeof e?new ObservableSignal(e):new ObservableSignal(void 0,e)}class ObservableSignal extends s.ZK{get debugName(){return new i.nA(this._owner,this._debugName,void 0).getDebugName(this)??"Observable Signal"}toString(){return this.debugName}constructor(e,t){super(),this._debugName=e,this._owner=t}trigger(e,t){if(e)for(const n of this.observers)e.updateObserver(n,this),n.handleChange(this,t);else(0,s.Rn)((e=>{this.trigger(e,t)}),(()=>`Trigger signal ${this.debugName}`))}get(){}}function recomputeInitiallyAndOnChange(e,t){const n=new KeepAliveObserver(!0,t);return e.addObserver(n),t?t(e.get()):e.reportChanges(),(0,r.s)((()=>{e.removeObserver(n)}))}(0,s.FB)((function keepObserved(e){const t=new KeepAliveObserver(!1,void 0);return e.addObserver(t),(0,r.s)((()=>{e.removeObserver(t)}))})),(0,s.Bm)(recomputeInitiallyAndOnChange);class KeepAliveObserver{constructor(e,t){this._forceRecompute=e,this._handleValue=t,this._counter=0}beginUpdate(e){this._counter++}endUpdate(e){this._counter--,0===this._counter&&this._forceRecompute&&(this._handleValue?this._handleValue(e.get()):e.reportChanges())}handlePossibleChange(e){}handleChange(e,t){}}function derivedObservableWithCache(e,t){let n;return(0,a.C)({owner:e,debugReferenceFn:t},(e=>(n=t(e,n),n)))}function mapObservableArrayCached(e,t,n,r){let s=new ArrayMap(n,r);return(0,a.C)({debugReferenceFn:n,owner:e,onLastObserverRemoved:()=>{s.dispose(),s=new ArrayMap(n)}},(e=>(s.setItems(t.read(e)),s.getItems())))}class ArrayMap{constructor(e,t){this._map=e,this._keySelector=t,this._cache=new Map,this._items=[]}dispose(){this._cache.forEach((e=>e.store.dispose())),this._cache.clear()}setItems(e){const t=[],n=new Set(this._cache.keys());for(const s of e){const e=this._keySelector?this._keySelector(s):s;let i=this._cache.get(e);if(i)n.delete(e);else{const t=new r.Cm;i={out:this._map(s,t),store:t},this._cache.set(e,i)}t.push(i.out)}for(const e of n){this._cache.get(e).store.dispose(),this._cache.delete(e)}this._items=t}getItems(){return this._items}}function derivedConstOnceDefined(e,t){return derivedObservableWithCache(e,((e,n)=>n??t(e)))}},16311(e,t,n){n.d(t,{BK:()=>ObservablePromise,fm:()=>autorun,Y:()=>autorunHandleChanges,zL:()=>autorunOpts,yC:()=>autorunWithStore,ht:()=>autorunWithStoreHandleChanges,lk:()=>l.lk,un:()=>s.un,nb:()=>s.nb,ZX:()=>l.ZX,C:()=>s.C,rm:()=>s.rm,X2:()=>r.X2,y0:()=>l.y0,Yd:()=>l.Yd,yQ:()=>l.yQ,FY:()=>r.FY,Zh:()=>observableValueOpts,OI:()=>l.OI,PO:()=>r.PO,Rn:()=>r.Rn,oJ:()=>waitForState});var r=n(34442),s=n(18366),i=n(87110),a=n(10998),o=n(49855),u=n(34950);function autorun(e){return new AutorunObserver(new o.nA(void 0,void 0,e),e,void 0,void 0)}function autorunOpts(e,t){return new AutorunObserver(new o.nA(e.owner,e.debugName,e.debugReferenceFn??t),t,void 0,void 0)}function autorunHandleChanges(e,t){return new AutorunObserver(new o.nA(e.owner,e.debugName,e.debugReferenceFn??t),t,e.createEmptyChangeSummary,e.handleChange)}function autorunWithStoreHandleChanges(e,t){const n=new a.Cm,r=autorunHandleChanges({owner:e.owner,debugName:e.debugName,debugReferenceFn:e.debugReferenceFn??t,createEmptyChangeSummary:e.createEmptyChangeSummary,handleChange:e.handleChange},((e,r)=>{n.clear(),t(e,r,n)}));return(0,a.s)((()=>{r.dispose(),n.dispose()}))}function autorunWithStore(e){const t=new a.Cm,n=autorunOpts({owner:void 0,debugName:void 0,debugReferenceFn:e},(n=>{t.clear(),e(n,t)}));return(0,a.s)((()=>{n.dispose(),t.dispose()}))}class AutorunObserver{get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}constructor(e,t,n,r){this._debugNameData=e,this._runFn=t,this.createChangeSummary=n,this._handleChange=r,this.state=2,this.updateCount=0,this.disposed=!1,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=this.createChangeSummary?.(),(0,u.tZ)()?.handleAutorunCreated(this),this._runIfNeeded(),(0,a.Ay)(this)}dispose(){this.disposed=!0;for(const e of this.dependencies)e.removeObserver(this);this.dependencies.clear(),(0,a.VD)(this)}_runIfNeeded(){if(3===this.state)return;const e=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=e,this.state=3;const t=this.disposed;try{if(!t){(0,u.tZ)()?.handleAutorunTriggered(this);const e=this.changeSummary;this.changeSummary=this.createChangeSummary?.(),this._runFn(this,e)}}finally{t||(0,u.tZ)()?.handleAutorunFinished(this);for(const e of this.dependenciesToBeRemoved)e.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){3===this.state&&(this.state=1),this.updateCount++}endUpdate(){if(1===this.updateCount)do{if(1===this.state){this.state=3;for(const e of this.dependencies)if(e.reportChanges(),2===this.state)break}this._runIfNeeded()}while(3!==this.state);this.updateCount--,(0,i.Ft)((()=>this.updateCount>=0))}handlePossibleChange(e){3===this.state&&this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)&&(this.state=1)}handleChange(e,t){if(this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)){(!this._handleChange||this._handleChange({changedObservable:e,change:t,didChange:t=>t===e},this.changeSummary))&&(this.state=2)}}readObservable(e){if(this.disposed)return e.get();e.addObserver(this);const t=e.get();return this.dependencies.add(e),this.dependenciesToBeRemoved.delete(e),t}}!function(e){e.Observer=AutorunObserver}(autorun||(autorun={}));var l=n(12146),h=n(94327);class ObservablePromise{static fromFn(e){return new ObservablePromise(e())}constructor(e){this._value=(0,r.FY)(this,void 0),this.promiseResult=this._value,this.promise=e.then((e=>((0,r.Rn)((t=>{this._value.set(new PromiseResult(e,void 0),t)})),e)),(e=>{throw(0,r.Rn)((t=>{this._value.set(new PromiseResult(void 0,e),t)})),e}))}}class PromiseResult{constructor(e,t){this.data=e,this.error=t}}function waitForState(e,t,n,r){return t||(t=e=>null!=e),new Promise(((s,i)=>{let a=!0,o=!1;const u=e.map((e=>({isFinished:t(e),error:!!n&&n(e),state:e}))),l=autorun((e=>{const{isFinished:t,error:n,state:r}=u.read(e);(t||n)&&(a?o=!0:l.dispose(),n?i(!0===n?r:n):s(r))}));if(r){const e=r.onCancellationRequested((()=>{l.dispose(),e.dispose(),i(new h.AL)}));if(r.isCancellationRequested)return l.dispose(),e.dispose(),void i(new h.AL)}a=!1,o&&l.dispose()}))}var d=n(8897);class LazyObservableValue extends r.ZK{get debugName(){return this._debugNameData.getDebugName(this)??"LazyObservableValue"}constructor(e,t,n){super(),this._debugNameData=e,this._equalityComparator=n,this._isUpToDate=!0,this._deltas=[],this._updateCounter=0,this._value=t}get(){return this._update(),this._value}_update(){if(!this._isUpToDate)if(this._isUpToDate=!0,this._deltas.length>0){for(const e of this.observers)for(const t of this._deltas)e.handleChange(this,t);this._deltas.length=0}else for(const e of this.observers)e.handleChange(this,void 0)}_beginUpdate(){if(this._updateCounter++,1===this._updateCounter)for(const e of this.observers)e.beginUpdate(this)}_endUpdate(){if(this._updateCounter--,0===this._updateCounter){this._update();const e=[...this.observers];for(const t of e)t.endUpdate(this)}}addObserver(e){const t=!this.observers.has(e)&&this._updateCounter>0;super.addObserver(e),t&&e.beginUpdate(this)}removeObserver(e){const t=this.observers.has(e)&&this._updateCounter>0;super.removeObserver(e),t&&e.endUpdate(this)}set(e,t,n){if(void 0===n&&this._equalityComparator(this._value,e))return;let s;t||(t=s=new r.XL((()=>{}),(()=>`Setting ${this.debugName}`)));try{if(this._isUpToDate=!1,this._setValue(e),void 0!==n&&this._deltas.push(n),t.updateObserver({beginUpdate:()=>this._beginUpdate(),endUpdate:()=>this._endUpdate(),handleChange:(e,t)=>{},handlePossibleChange:e=>{}},this),this._updateCounter>1)for(const e of this.observers)e.handlePossibleChange(this)}finally{s&&s.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(e){this._value=e}}function observableValueOpts(e,t){return e.lazy?new LazyObservableValue(new o.nA(e.owner,e.debugName,void 0),t,e.equalsFn??d.nx):new r.Lj(new o.nA(e.owner,e.debugName,void 0),t,e.equalsFn??d.nx)}},18366(e,t,n){n.d(t,{C:()=>derivedOpts,a0:()=>derivedDisposable,dQ:()=>derivedWithSetter,nb:()=>derivedHandleChanges,rm:()=>derivedWithStore,un:()=>derived});var r=n(87110),s=n(8897),i=n(10998),a=n(34442),o=n(49855),u=n(34950);function derived(e,t){return void 0!==t?new Derived(new o.nA(e,void 0,t),t,void 0,void 0,void 0,s.nx):new Derived(new o.nA(void 0,void 0,e),e,void 0,void 0,void 0,s.nx)}function derivedWithSetter(e,t,n){return new DerivedWithSetter(new o.nA(e,void 0,t),t,void 0,void 0,void 0,s.nx,n)}function derivedOpts(e,t){return new Derived(new o.nA(e.owner,e.debugName,e.debugReferenceFn),t,void 0,void 0,e.onLastObserverRemoved,e.equalsFn??s.nx)}function derivedHandleChanges(e,t){return new Derived(new o.nA(e.owner,e.debugName,void 0),t,e.createEmptyChangeSummary,e.handleChange,void 0,e.equalityComparer??s.nx)}function derivedWithStore(e,t){let n,r;void 0===t?(n=e,r=void 0):(r=e,n=t);const a=new i.Cm;return new Derived(new o.nA(r,void 0,n),(e=>(a.clear(),n(e,a))),void 0,void 0,(()=>a.dispose()),s.nx)}function derivedDisposable(e,t){let n,r,a;return void 0===t?(n=e,r=void 0):(r=e,n=t),new Derived(new o.nA(r,void 0,n),(e=>{a?a.clear():a=new i.Cm;const t=n(e);return t&&a.add(t),t}),void 0,void 0,(()=>{a&&(a.dispose(),a=void 0)}),s.nx)}(0,a.N2)(derivedOpts);class Derived extends a.ZK{get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}constructor(e,t,n,r,s=void 0,i){super(),this._debugNameData=e,this._computeFn=t,this.createChangeSummary=n,this._handleChange=r,this._handleLastObserverRemoved=s,this._equalityComparator=i,this.state=0,this.value=void 0,this.updateCount=0,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=void 0,this.changeSummary=this.createChangeSummary?.(),(0,u.tZ)()?.handleDerivedCreated(this)}onLastObserverRemoved(){this.state=0,this.value=void 0;for(const e of this.dependencies)e.removeObserver(this);this.dependencies.clear(),this._handleLastObserverRemoved?.()}get(){if(0===this.observers.size){const e=this._computeFn(this,this.createChangeSummary?.());return this.onLastObserverRemoved(),e}do{if(1===this.state)for(const e of this.dependencies)if(e.reportChanges(),2===this.state)break;1===this.state&&(this.state=3),this._recomputeIfNeeded()}while(3!==this.state);return this.value}_recomputeIfNeeded(){if(3===this.state)return;const e=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=e;const t=0!==this.state,n=this.value;this.state=3;const r=this.changeSummary;this.changeSummary=this.createChangeSummary?.();try{this.value=this._computeFn(this,r)}finally{for(const e of this.dependenciesToBeRemoved)e.removeObserver(this);this.dependenciesToBeRemoved.clear()}const s=t&&!this._equalityComparator(n,this.value);if((0,u.tZ)()?.handleDerivedRecomputed(this,{oldValue:n,newValue:this.value,change:void 0,didChange:s,hadValue:t}),s)for(const e of this.observers)e.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(e){this.updateCount++;const t=1===this.updateCount;if(3===this.state&&(this.state=1,!t))for(const e of this.observers)e.handlePossibleChange(this);if(t)for(const e of this.observers)e.beginUpdate(this)}endUpdate(e){if(this.updateCount--,0===this.updateCount){const e=[...this.observers];for(const t of e)t.endUpdate(this)}(0,r.Ft)((()=>this.updateCount>=0))}handlePossibleChange(e){if(3===this.state&&this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)){this.state=1;for(const e of this.observers)e.handlePossibleChange(this)}}handleChange(e,t){if(this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)){const n=!this._handleChange||this._handleChange({changedObservable:e,change:t,didChange:t=>t===e},this.changeSummary),r=3===this.state;if(n&&(1===this.state||r)&&(this.state=2,r))for(const e of this.observers)e.handlePossibleChange(this)}}readObservable(e){e.addObserver(this);const t=e.get();return this.dependencies.add(e),this.dependenciesToBeRemoved.delete(e),t}addObserver(e){const t=!this.observers.has(e)&&this.updateCount>0;super.addObserver(e),t&&e.beginUpdate(this)}removeObserver(e){const t=this.observers.has(e)&&this.updateCount>0;super.removeObserver(e),t&&e.endUpdate(this)}}class DerivedWithSetter extends Derived{constructor(e,t,n,r,s=void 0,i,a){super(e,t,n,r,s,i),this.set=a}}},22467(e,t,n){n.d(t,{B6:()=>_,Fd:()=>v,LC:()=>c,P8:()=>g,Pi:()=>d,er:()=>l,iZ:()=>m,n4:()=>h,o1:()=>b,pD:()=>f,su:()=>originalFSPath,uJ:()=>p});var r=n(78518),s=n(13072),i=n(18019),a=n(63339),o=n(16844),u=n(37264);function originalFSPath(e){return(0,u.I)(e,!0)}class ExtUri{constructor(e){this._ignorePathCasing=e}compare(e,t,n=!1){return e===t?0:(0,o.UD)(this.getComparisonKey(e,n),this.getComparisonKey(t,n))}isEqual(e,t,n=!1){return e===t||!(!e||!t)&&this.getComparisonKey(e,n)===this.getComparisonKey(t,n)}getComparisonKey(e,t=!1){return e.with({path:this._ignorePathCasing(e)?e.path.toLowerCase():void 0,fragment:t?null:void 0}).toString()}isEqualOrParent(e,t,n=!1){if(e.scheme===t.scheme){if(e.scheme===s.ny.file)return r._1(originalFSPath(e),originalFSPath(t),this._ignorePathCasing(e))&&e.query===t.query&&(n||e.fragment===t.fragment);if(y(e.authority,t.authority))return r._1(e.path,t.path,this._ignorePathCasing(e),"/")&&e.query===t.query&&(n||e.fragment===t.fragment)}return!1}joinPath(e,...t){return u.r.joinPath(e,...t)}basenameOrAuthority(e){return g(e)||e.authority}basename(e){return i.SA.basename(e.path)}extname(e){return i.SA.extname(e.path)}dirname(e){if(0===e.path.length)return e;let t;return e.scheme===s.ny.file?t=u.r.file(i.pD(originalFSPath(e))).path:(t=i.SA.dirname(e.path),e.authority&&t.length&&47!==t.charCodeAt(0)&&(console.error(`dirname("${e.toString})) resulted in a relative path`),t="/")),e.with({path:t})}normalizePath(e){if(!e.path.length)return e;let t;return t=e.scheme===s.ny.file?u.r.file(i.S8(originalFSPath(e))).path:i.SA.normalize(e.path),e.with({path:t})}relativePath(e,t){if(e.scheme!==t.scheme||!y(e.authority,t.authority))return;if(e.scheme===s.ny.file){const n=i.V8(originalFSPath(e),originalFSPath(t));return a.uF?r.TH(n):n}let n=e.path||"/";const o=t.path||"/";if(this._ignorePathCasing(e)){let e=0;for(const t=Math.min(n.length,o.length);e<t&&(n.charCodeAt(e)===o.charCodeAt(e)||n.charAt(e).toLowerCase()===o.charAt(e).toLowerCase());e++);n=o.substr(0,e)+n.substr(e)}return i.SA.relative(n,o)}resolvePath(e,t){if(e.scheme===s.ny.file){const n=u.r.file(i.hd(originalFSPath(e),t));return e.with({authority:n.authority,path:n.path})}return t=r.kb(t),e.with({path:i.SA.resolve(e.path,t)})}isAbsolutePath(e){return!!e.path&&"/"===e.path[0]}isEqualAuthority(e,t){return e===t||void 0!==e&&void 0!==t&&(0,o.Q_)(e,t)}hasTrailingPathSeparator(e,t=i.Vn){if(e.scheme===s.ny.file){const n=originalFSPath(e);return n.length>r.Zn(n).length&&n[n.length-1]===t}{const t=e.path;return t.length>1&&47===t.charCodeAt(t.length-1)&&!/^[a-zA-Z]:(\/$|\\$)/.test(e.fsPath)}}removeTrailingPathSeparator(e,t=i.Vn){return C(e,t)?e.with({path:e.path.substr(0,e.path.length-1)}):e}addTrailingPathSeparator(e,t=i.Vn){let n=!1;if(e.scheme===s.ny.file){const s=originalFSPath(e);n=void 0!==s&&s.length===r.Zn(s).length&&s[s.length-1]===t}else{t="/";const r=e.path;n=1===r.length&&47===r.charCodeAt(r.length-1)}return n||C(e,t)?e:e.with({path:e.path+"/"})}}const l=new ExtUri((()=>!1)),h=(new ExtUri((e=>e.scheme!==s.ny.file||!a.j9)),new ExtUri((e=>!0)),l.isEqual.bind(l)),d=(l.isEqualOrParent.bind(l),l.getComparisonKey.bind(l),l.basenameOrAuthority.bind(l)),g=l.basename.bind(l),c=l.extname.bind(l),f=l.dirname.bind(l),p=l.joinPath.bind(l),v=l.normalizePath.bind(l),m=l.relativePath.bind(l),b=l.resolvePath.bind(l),y=(l.isAbsolutePath.bind(l),l.isEqualAuthority.bind(l)),C=l.hasTrailingPathSeparator.bind(l);l.removeTrailingPathSeparator.bind(l),l.addTrailingPathSeparator.bind(l);var _;!function(e){e.META_DATA_LABEL="label",e.META_DATA_DESCRIPTION="description",e.META_DATA_SIZE="size",e.META_DATA_MIME="mime",e.parseMetaData=function parseMetaData(t){const n=new Map;t.path.substring(t.path.indexOf(";")+1,t.path.lastIndexOf(";")).split(";").forEach((e=>{const[t,r]=e.split(":");t&&r&&n.set(t,r)}));const r=t.path.substring(0,t.path.indexOf(";"));return r&&n.set(e.META_DATA_MIME,r),n}}(_||(_={}))},27142(e,t,n){n.d(t,{Fd:()=>h,Gv:()=>overrideIdentifiersFromKey,rC:()=>O});var r=n(13338),s=n(2106),i=n(79359),a=n(19746),o=n(85753),u=n(51460),l=n(67167);const h={Configuration:"base.contributions.configuration"},d={properties:{},patternProperties:{}},g={properties:{},patternProperties:{}},c={properties:{},patternProperties:{}},f={properties:{},patternProperties:{}},p={properties:{},patternProperties:{}},v={properties:{},patternProperties:{}},m="vscode://schemas/settings/resourceLanguage",b=l.O.as(u.F.JSONContribution);const y="\\[([^\\]]+)\\]",C=new RegExp(y,"g"),_=`^(${y})+$`,O=new RegExp(_);function overrideIdentifiersFromKey(e){const t=[];if(O.test(e)){let n=C.exec(e);for(;n?.length;){const r=n[1].trim();r&&t.push(r),n=C.exec(e)}}return(0,r.dM)(t)}const w=new class ConfigurationRegistry{constructor(){this.registeredConfigurationDefaults=[],this.overrideIdentifiers=new Set,this._onDidSchemaChange=new s.vl,this._onDidUpdateConfiguration=new s.vl,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:a.kg("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},b.registerSchema(m,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(e,t=!0){this.registerConfigurations([e],t)}registerConfigurations(e,t=!0){const n=new Set;this.doRegisterConfigurations(e,t,n),b.registerSchema(m,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:n})}registerDefaultConfigurations(e){const t=new Set;this.doRegisterDefaultConfigurations(e,t),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:t,defaultsOverrides:!0})}doRegisterDefaultConfigurations(e,t){this.registeredConfigurationDefaults.push(...e);const n=[];for(const{overrides:r,source:s}of e)for(const e in r){t.add(e);const i=this.configurationDefaultsOverrides.get(e)??this.configurationDefaultsOverrides.set(e,{configurationDefaultOverrides:[]}).get(e),a=r[e];if(i.configurationDefaultOverrides.push({value:a,source:s}),O.test(e)){const t=this.mergeDefaultConfigurationsForOverrideIdentifier(e,a,s,i.configurationDefaultOverrideValue);if(!t)continue;i.configurationDefaultOverrideValue=t,this.updateDefaultOverrideProperty(e,t,s),n.push(...overrideIdentifiersFromKey(e))}else{const t=this.mergeDefaultConfigurationsForConfigurationProperty(e,a,s,i.configurationDefaultOverrideValue);if(!t)continue;i.configurationDefaultOverrideValue=t;const n=this.configurationProperties[e];n&&(this.updatePropertyDefaultValue(e,n),this.updateSchema(e,n))}}this.doRegisterOverrideIdentifiers(n)}updateDefaultOverrideProperty(e,t,n){const r={type:"object",default:t.value,description:a.kg("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",(0,o.Mo)(e)),$ref:m,defaultDefaultValue:t.value,source:n,defaultValueSource:n};this.configurationProperties[e]=r,this.defaultLanguageConfigurationOverridesNode.properties[e]=r}mergeDefaultConfigurationsForOverrideIdentifier(e,t,n,r){const s=r?.value||{},a=r?.source??new Map;if(a instanceof Map){for(const e of Object.keys(t)){const r=t[e];if(i.Gv(r)&&(i.b0(s[e])||i.Gv(s[e]))){if(s[e]={...s[e]??{},...r},n)for(const t in r)a.set(`${e}.${t}`,n)}else s[e]=r,n?a.set(e,n):a.delete(e)}return{value:s,source:a}}console.error("objectConfigurationSources is not a Map")}mergeDefaultConfigurationsForConfigurationProperty(e,t,n,r){const s=this.configurationProperties[e],a=r?.value??s?.defaultDefaultValue;let o=n;if(i.Gv(t)&&(void 0!==s&&"object"===s.type||void 0===s&&(i.b0(a)||i.Gv(a)))){if(o=r?.source??new Map,!(o instanceof Map))return void console.error("defaultValueSource is not a Map");for(const r in t)n&&o.set(`${e}.${r}`,n);t={...i.Gv(a)?a:{},...t}}return{value:t,source:o}}registerOverrideIdentifiers(e){this.doRegisterOverrideIdentifiers(e),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(e){for(const t of e)this.overrideIdentifiers.add(t);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(e,t,n){e.forEach((e=>{this.validateAndRegisterProperties(e,t,e.extensionInfo,e.restrictedProperties,void 0,n),this.configurationContributors.push(e),this.registerJSONConfiguration(e)}))}validateAndRegisterProperties(e,t=!0,n,r,s=3,a){s=i.z(e.scope)?s:e.scope;const o=e.properties;if(o)for(const e in o){const u=o[e];t&&validateProperty(e,u)?delete o[e]:(u.source=n,u.defaultDefaultValue=o[e].default,this.updatePropertyDefaultValue(e,u),O.test(e)?u.scope=void 0:(u.scope=i.z(u.scope)?s:u.scope,u.restricted=i.z(u.restricted)?!!r?.includes(e):u.restricted),!o[e].hasOwnProperty("included")||o[e].included?(this.configurationProperties[e]=o[e],o[e].policy?.name&&this.policyConfigurations.set(o[e].policy.name,e),!o[e].deprecationMessage&&o[e].markdownDeprecationMessage&&(o[e].deprecationMessage=o[e].markdownDeprecationMessage),a.add(e)):(this.excludedConfigurationProperties[e]=o[e],delete o[e]))}const u=e.allOf;if(u)for(const e of u)this.validateAndRegisterProperties(e,t,n,r,s,a)}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(e){const register=e=>{const t=e.properties;if(t)for(const e in t)this.updateSchema(e,t[e]);const n=e.allOf;n?.forEach(register)};register(e)}updateSchema(e,t){switch(d.properties[e]=t,t.scope){case 1:g.properties[e]=t;break;case 2:c.properties[e]=t;break;case 6:f.properties[e]=t;break;case 3:p.properties[e]=t;break;case 4:v.properties[e]=t;break;case 5:v.properties[e]=t,this.resourceLanguageSettingsSchema.properties[e]=t}}updateOverridePropertyPatternKey(){for(const e of this.overrideIdentifiers.values()){const t=`[${e}]`,n={type:"object",description:a.kg("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:a.kg("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:m};this.updatePropertyDefaultValue(t,n),d.properties[t]=n,g.properties[t]=n,c.properties[t]=n,f.properties[t]=n,p.properties[t]=n,v.properties[t]=n}}registerOverridePropertyPatternKey(){const e={type:"object",description:a.kg("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:a.kg("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:m};d.patternProperties[_]=e,g.patternProperties[_]=e,c.patternProperties[_]=e,f.patternProperties[_]=e,p.patternProperties[_]=e,v.patternProperties[_]=e,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(e,t){const n=this.configurationDefaultsOverrides.get(e)?.configurationDefaultOverrideValue;let r,s;!n||t.disallowConfigurationDefault&&n.source||(r=n.value,s=n.source),i.b0(r)&&(r=t.defaultDefaultValue,s=void 0),i.b0(r)&&(r=function getDefaultValue(e){switch(Array.isArray(e)?e[0]:e){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}(t.type)),t.default=r,t.defaultValueSource=s}};function validateProperty(e,t){return e.trim()?O.test(e)?a.kg("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",e):void 0!==w.getConfigurationProperties()[e]?a.kg("config.property.duplicate","Cannot register '{0}'. This property is already registered.",e):t.policy?.name&&void 0!==w.getPolicyConfigurations().get(t.policy?.name)?a.kg("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",e,t.policy?.name,w.getPolicyConfigurations().get(t.policy?.name)):null:a.kg("config.property.empty","Cannot register an empty property")}l.O.add(h.Configuration,w)},34442(e,t,n){n.d(t,{Bm:()=>_setRecomputeInitiallyAndOnChange,FB:()=>_setKeepObserved,FY:()=>observableValue,Lj:()=>ObservableValue,N2:()=>_setDerivedOpts,PO:()=>subtransaction,Rn:()=>transaction,X2:()=>disposableObservableValue,XL:()=>TransactionImpl,YY:()=>globalTransaction,ZK:()=>BaseObservable,fL:()=>asyncTransaction,zV:()=>ConvenientObservable});var r=n(8897),s=n(49855),i=n(34950);let a,o,u;function _setRecomputeInitiallyAndOnChange(e){a=e}function _setKeepObserved(e){o=e}function _setDerivedOpts(e){u=e}class ConvenientObservable{get TChange(){return null}reportChanges(){this.get()}read(e){return e?e.readObservable(this):this.get()}map(e,t){const n=void 0===t?void 0:e,r=void 0===t?e:t;return u({owner:n,debugName:()=>{const e=(0,s.qQ)(r);if(void 0!==e)return e;const t=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(r.toString());return t?`${this.debugName}.${t[2]}`:n?void 0:`${this.debugName} (mapped)`},debugReferenceFn:r},(e=>r(this.read(e),e)))}flatten(){return u({owner:void 0,debugName:()=>`${this.debugName} (flattened)`},(e=>this.read(e).read(e)))}recomputeInitiallyAndOnChange(e,t){return e.add(a(this,t)),this}keepObserved(e){return e.add(o(this)),this}}class BaseObservable extends ConvenientObservable{constructor(){super(...arguments),this.observers=new Set}addObserver(e){const t=this.observers.size;this.observers.add(e),0===t&&this.onFirstObserverAdded()}removeObserver(e){this.observers.delete(e)&&0===this.observers.size&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}}function transaction(e,t){const n=new TransactionImpl(e,t);try{e(n)}finally{n.finish()}}let l=3524==n.j?void 0:null;function globalTransaction(e){if(l)e(l);else{const t=new TransactionImpl(e,void 0);l=t;try{e(t)}finally{t.finish(),l=void 0}}}async function asyncTransaction(e,t){const n=new TransactionImpl(e,t);try{await e(n)}finally{n.finish()}}function subtransaction(e,t,n){e?t(e):transaction(t,n)}class TransactionImpl{constructor(e,t){this._fn=e,this._getDebugName=t,this.updatingObservers=[],(0,i.tZ)()?.handleBeginTransaction(this)}getDebugName(){return this._getDebugName?this._getDebugName():(0,s.qQ)(this._fn)}updateObserver(e,t){this.updatingObservers.push({observer:e,observable:t}),e.beginUpdate(t)}finish(){const e=this.updatingObservers;for(let t=0;t<e.length;t++){const{observer:n,observable:r}=e[t];n.endUpdate(r)}this.updatingObservers=null,(0,i.tZ)()?.handleEndTransaction()}}function observableValue(e,t){let n;return n="string"==typeof e?new s.nA(void 0,e,void 0):new s.nA(e,void 0,void 0),new ObservableValue(n,t,r.nx)}class ObservableValue extends BaseObservable{get debugName(){return this._debugNameData.getDebugName(this)??"ObservableValue"}constructor(e,t,n){super(),this._debugNameData=e,this._equalityComparator=n,this._value=t}get(){return this._value}set(e,t,n){if(void 0===n&&this._equalityComparator(this._value,e))return;let r;t||(t=r=new TransactionImpl((()=>{}),(()=>`Setting ${this.debugName}`)));try{const r=this._value;this._setValue(e),(0,i.tZ)()?.handleObservableChanged(this,{oldValue:r,newValue:e,change:n,didChange:!0,hadValue:!0});for(const e of this.observers)t.updateObserver(e,this),e.handleChange(this,n)}finally{r&&r.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(e){this._value=e}}function disposableObservableValue(e,t){let n;return n="string"==typeof e?new s.nA(void 0,e,void 0):new s.nA(e,void 0,void 0),new DisposableObservableValue(n,t,r.nx)}class DisposableObservableValue extends(3524==n.j?ObservableValue:null){_setValue(e){this._value!==e&&(this._value&&this._value.dispose(),this._value=e)}dispose(){this._value?.dispose()}}},34950(e,t,n){let r;function setLogger(e){r=e}function getLogger(){return r}n.d(t,{Br:()=>setLogger,jm:()=>ConsoleObservableLogger,tZ:()=>getLogger});class ConsoleObservableLogger{constructor(){this.indentation=0,this.changedObservablesSets=new WeakMap}textToConsoleArgs(e){return function consoleTextToArgs(e){const t=new Array,n=[];let r="";function process(e){if("length"in e)for(const t of e)t&&process(t);else"text"in e?(r+=`%c${e.text}`,t.push(e.style),e.data&&n.push(...e.data)):"data"in e&&n.push(...e.data)}process(e);const s=[r,...t];return s.push(...n),s}([normalText(repeat("|  ",this.indentation)),e])}formatInfo(e){return e.hadValue?e.didChange?[normalText(" "),styled(formatValue(e.oldValue,70),{color:"red",strikeThrough:!0}),normalText(" "),styled(formatValue(e.newValue,60),{color:"green"})]:[normalText(" (unchanged)")]:[normalText(" "),styled(formatValue(e.newValue,60),{color:"green"}),normalText(" (initial)")]}handleObservableChanged(e,t){console.log(...this.textToConsoleArgs([formatKind("observable value changed"),styled(e.debugName,{color:"BlueViolet"}),...this.formatInfo(t)]))}formatChanges(e){if(0!==e.size)return styled(" (changed deps: "+[...e].map((e=>e.debugName)).join(", ")+")",{color:"gray"})}handleDerivedCreated(e){const t=e.handleChange;this.changedObservablesSets.set(e,new Set),e.handleChange=(n,r)=>(this.changedObservablesSets.get(e).add(n),t.apply(e,[n,r]))}handleDerivedRecomputed(e,t){const n=this.changedObservablesSets.get(e);console.log(...this.textToConsoleArgs([formatKind("derived recomputed"),styled(e.debugName,{color:"BlueViolet"}),...this.formatInfo(t),this.formatChanges(n),{data:[{fn:e._debugNameData.referenceFn??e._computeFn}]}])),n.clear()}handleFromEventObservableTriggered(e,t){console.log(...this.textToConsoleArgs([formatKind("observable from event triggered"),styled(e.debugName,{color:"BlueViolet"}),...this.formatInfo(t),{data:[{fn:e._getValue}]}]))}handleAutorunCreated(e){const t=e.handleChange;this.changedObservablesSets.set(e,new Set),e.handleChange=(n,r)=>(this.changedObservablesSets.get(e).add(n),t.apply(e,[n,r]))}handleAutorunTriggered(e){const t=this.changedObservablesSets.get(e);console.log(...this.textToConsoleArgs([formatKind("autorun"),styled(e.debugName,{color:"BlueViolet"}),this.formatChanges(t),{data:[{fn:e._debugNameData.referenceFn??e._runFn}]}])),t.clear(),this.indentation++}handleAutorunFinished(e){this.indentation--}handleBeginTransaction(e){let t=e.getDebugName();void 0===t&&(t=""),console.log(...this.textToConsoleArgs([formatKind("transaction"),styled(t,{color:"BlueViolet"}),{data:[{fn:e._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}}function normalText(e){return styled(e,{color:"black"})}function formatKind(e){return styled(function padStr(e,t){for(;e.length<t;)e+=" ";return e}(`${e}: `,10),{color:"black",bold:!0})}function styled(e,t={color:"black"}){const n={color:t.color};return t.strikeThrough&&(n["text-decoration"]="line-through"),t.bold&&(n["font-weight"]="bold"),{text:e,style:function objToCss(e){return Object.entries(e).reduce(((e,[t,n])=>`${e}${t}:${n};`),"")}(n)}}function formatValue(e,t){switch(typeof e){case"number":default:return""+e;case"string":return e.length+2<=t?`"${e}"`:`"${e.substr(0,t-7)}"+...`;case"boolean":return e?"true":"false";case"undefined":return"undefined";case"object":return null===e?"null":Array.isArray(e)?function formatArray(e,t){let n="[ ",r=!0;for(const s of e){if(r||(n+=", "),n.length-5>t){n+="...";break}r=!1,n+=`${formatValue(s,t-n.length)}`}return n+=" ]",n}(e,t):function formatObject(e,t){let n="{ ",r=!0;for(const[s,i]of Object.entries(e)){if(r||(n+=", "),n.length-5>t){n+="...";break}r=!1,n+=`${s}: ${formatValue(i,t-n.length)}`}return n+=" }",n}(e,t);case"symbol":return e.toString();case"function":return`[[Function${e.name?" "+e.name:""}]]`}}function repeat(e,t){let n="";for(let r=1;r<=t;r++)n+=e;return n}},49855(e,t,n){n.d(t,{nA:()=>DebugNameData,qQ:()=>getFunctionName});class DebugNameData{constructor(e,t,n){this.owner=e,this.debugNameSource=t,this.referenceFn=n}getDebugName(e){return function getDebugName(e,t){const n=s.get(e);if(n)return n;const o=function computeDebugName(e,t){const n=s.get(e);if(n)return n;const r=t.owner?function formatOwner(e){const t=a.get(e);if(t)return t;const n=function getClassName(e){const t=e.constructor;if(t)return t.name;return"Object"}(e);let r=i.get(n)??0;r++,i.set(n,r);const s=1===r?n:`${n}#${r}`;return a.set(e,s),s}(t.owner)+".":"";let o;const u=t.debugNameSource;if(void 0!==u){if("function"!=typeof u)return r+u;if(o=u(),void 0!==o)return r+o}const l=t.referenceFn;if(void 0!==l&&(o=getFunctionName(l),void 0!==o))return r+o;if(void 0!==t.owner){const n=function findKey(e,t){for(const n in e)if(e[n]===t)return n;return}(t.owner,e);if(void 0!==n)return r+n}return}(e,t);if(o){let t=r.get(o)??0;t++,r.set(o,t);const n=1===t?o:`${o}#${t}`;return s.set(e,n),n}return}(e,this)}}const r=new Map,s=new WeakMap;const i=new Map,a=new WeakMap;function getFunctionName(e){const t=e.toString(),n=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(t),r=n?n[1]:void 0;return r?.trim()}},51460(e,t,n){n.d(t,{F:()=>i});var r=n(2106),s=n(67167);const i={JSONContribution:"base.contributions.json"};const a=new class JSONContributionRegistry{constructor(){this._onDidChangeSchema=new r.vl,this.schemasById={}}registerSchema(e,t){this.schemasById[function normalizeId(e){return e.length>0&&"#"===e.charAt(e.length-1)?e.substring(0,e.length-1):e}(e)]=t,this._onDidChangeSchema.fire(e)}notifySchemaChanged(e){this._onDidChangeSchema.fire(e)}};s.O.add(i.JSONContribution,a)},53720(e,t,n){n.d(t,{K:()=>r});const r=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})},54957(e,t,n){n.d(t,{W6:()=>u,vH:()=>l});var r=n(19746),s=n(2106),i=n(67167),a=n(53720),o=n(27142);const u=new class EditorModesRegistry{constructor(){this._onDidChangeLanguages=new s.vl,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(e){return this._languages.push(e),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let t=0,n=this._languages.length;t<n;t++)if(this._languages[t]===e)return void this._languages.splice(t,1)}}}getLanguages(){return this._languages}};i.O.add("editor.modesRegistry",u);const l="plaintext";u.registerLanguage({id:l,extensions:[".txt"],aliases:[r.kg("plainText.alias","Plain Text"),"text"],mimetypes:[a.K.text]}),i.O.as(o.Fd.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])},55996(e,t,n){n.r(t),n.d(t,{clearPlatformLanguageAssociations:()=>clearPlatformLanguageAssociations,getLanguageIds:()=>getLanguageIds,registerPlatformLanguageAssociation:()=>registerPlatformLanguageAssociation});var r=n(83958),s=n(53720),i=n(13072),a=n(18019),o=n(22467),u=n(16844),l=n(54957);let h=[],d=[],g=[];function registerPlatformLanguageAssociation(e,t=!1){!function _registerLanguageAssociation(e,t,n){const s=function toLanguageAssociationItem(e,t){return{id:e.id,mime:e.mime,filename:e.filename,extension:e.extension,filepattern:e.filepattern,firstline:e.firstline,userConfigured:t,filenameLowercase:e.filename?e.filename.toLowerCase():void 0,extensionLowercase:e.extension?e.extension.toLowerCase():void 0,filepatternLowercase:e.filepattern?(0,r.qg)(e.filepattern.toLowerCase()):void 0,filepatternOnPath:!!e.filepattern&&e.filepattern.indexOf(a.SA.sep)>=0}}(e,t);h.push(s),s.userConfigured?g.push(s):d.push(s);n&&!s.userConfigured&&h.forEach((e=>{e.mime===s.mime||e.userConfigured||(s.extension&&e.extension===s.extension&&console.warn(`Overwriting extension <<${s.extension}>> to now point to mime <<${s.mime}>>`),s.filename&&e.filename===s.filename&&console.warn(`Overwriting filename <<${s.filename}>> to now point to mime <<${s.mime}>>`),s.filepattern&&e.filepattern===s.filepattern&&console.warn(`Overwriting filepattern <<${s.filepattern}>> to now point to mime <<${s.mime}>>`),s.firstline&&e.firstline===s.firstline&&console.warn(`Overwriting firstline <<${s.firstline}>> to now point to mime <<${s.mime}>>`))}))}(e,!1,t)}function clearPlatformLanguageAssociations(){h=h.filter((e=>e.userConfigured)),d=[]}function getLanguageIds(e,t){return function getAssociations(e,t){let n;if(e)switch(e.scheme){case i.ny.file:n=e.fsPath;break;case i.ny.data:n=o.B6.parseMetaData(e).get(o.B6.META_DATA_LABEL);break;case i.ny.vscodeNotebookCell:n=void 0;break;default:n=e.path}if(!n)return[{id:"unknown",mime:s.K.unknown}];n=n.toLowerCase();const r=(0,a.P8)(n),c=getAssociationByPath(n,r,g);if(c)return[c,{id:l.vH,mime:s.K.text}];const f=getAssociationByPath(n,r,d);if(f)return[f,{id:l.vH,mime:s.K.text}];if(t){const e=function getAssociationByFirstline(e){(0,u.LU)(e)&&(e=e.substr(1));if(e.length>0)for(let t=h.length-1;t>=0;t--){const n=h[t];if(!n.firstline)continue;const r=e.match(n.firstline);if(r&&r.length>0)return n}return}(t);if(e)return[e,{id:l.vH,mime:s.K.text}]}return[{id:"unknown",mime:s.K.unknown}]}(e,t).map((e=>e.id))}function getAssociationByPath(e,t,n){let r,s,i;for(let a=n.length-1;a>=0;a--){const o=n[a];if(t===o.filenameLowercase){r=o;break}if(o.filepattern&&(!s||o.filepattern.length>s.filepattern.length)){const n=o.filepatternOnPath?e:t;o.filepatternLowercase?.(n)&&(s=o)}o.extension&&(!i||o.extension.length>i.extension.length)&&t.endsWith(o.extensionLowercase)&&(i=o)}return r||(s||(i||void 0))}},66995(e,t,n){n.r(t),n.d(t,{LanguageIdCodec:()=>LanguageIdCodec,LanguagesRegistry:()=>LanguagesRegistry});var r=n(2106),s=n(10998),i=n(16844),a=n(55996),o=n(54957),u=n(27142),l=n(67167);const h=Object.prototype.hasOwnProperty,d="vs.editor.nullLanguage";class LanguageIdCodec{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(d,0),this._register(o.vH,1),this._nextLanguageId=2}_register(e,t){this._languageIdToLanguage[t]=e,this._languageToLanguageId.set(e,t)}register(e){if(this._languageToLanguageId.has(e))return;const t=this._nextLanguageId++;this._register(e,t)}encodeLanguageId(e){return this._languageToLanguageId.get(e)||0}decodeLanguageId(e){return this._languageIdToLanguage[e]||d}}class LanguagesRegistry extends s.jG{static{this.instanceCount=0}constructor(e=!0,t=!1){super(),this._onDidChange=this._register(new r.vl),this.onDidChange=this._onDidChange.event,LanguagesRegistry.instanceCount++,this._warnOnOverwrite=t,this.languageIdCodec=new LanguageIdCodec,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},e&&(this._initializeFromRegistry(),this._register(o.W6.onDidChangeLanguages((e=>{this._initializeFromRegistry()}))))}dispose(){LanguagesRegistry.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},(0,a.clearPlatformLanguageAssociations)();const e=[].concat(o.W6.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(e)}_registerLanguages(e){for(const t of e)this._registerLanguage(t);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach((e=>{const t=this._languages[e];t.name&&(this._nameMap[t.name]=t.identifier),t.aliases.forEach((e=>{this._lowercaseNameMap[e.toLowerCase()]=t.identifier})),t.mimetypes.forEach((e=>{this._mimeTypesMap[e]=t.identifier}))})),l.O.as(u.Fd.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(e){const t=e.id;let n;h.call(this._languages,t)?n=this._languages[t]:(this.languageIdCodec.register(t),n={identifier:t,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[t]=n),this._mergeLanguage(n,e)}_mergeLanguage(e,t){const n=t.id;let r=null;if(Array.isArray(t.mimetypes)&&t.mimetypes.length>0&&(e.mimetypes.push(...t.mimetypes),r=t.mimetypes[0]),r||(r=`text/x-${n}`,e.mimetypes.push(r)),Array.isArray(t.extensions)){t.configuration?e.extensions=t.extensions.concat(e.extensions):e.extensions=e.extensions.concat(t.extensions);for(const e of t.extensions)(0,a.registerPlatformLanguageAssociation)({id:n,mime:r,extension:e},this._warnOnOverwrite)}if(Array.isArray(t.filenames))for(const s of t.filenames)(0,a.registerPlatformLanguageAssociation)({id:n,mime:r,filename:s},this._warnOnOverwrite),e.filenames.push(s);if(Array.isArray(t.filenamePatterns))for(const e of t.filenamePatterns)(0,a.registerPlatformLanguageAssociation)({id:n,mime:r,filepattern:e},this._warnOnOverwrite);if("string"==typeof t.firstLine&&t.firstLine.length>0){let e=t.firstLine;"^"!==e.charAt(0)&&(e="^"+e);try{const t=new RegExp(e);(0,i.eY)(t)||(0,a.registerPlatformLanguageAssociation)({id:n,mime:r,firstline:t},this._warnOnOverwrite)}catch(n){console.warn(`[${t.id}]: Invalid regular expression \`${e}\`: `,n)}}e.aliases.push(n);let s=null;if(void 0!==t.aliases&&Array.isArray(t.aliases)&&(s=0===t.aliases.length?[null]:t.aliases),null!==s)for(const t of s)t&&0!==t.length&&e.aliases.push(t);const o=null!==s&&s.length>0;if(o&&null===s[0]);else{const t=(o?s[0]:null)||n;!o&&e.name||(e.name=t)}t.configuration&&e.configurationFiles.push(t.configuration),t.icon&&e.icons.push(t.icon)}isRegisteredLanguageId(e){return!!e&&h.call(this._languages,e)}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(e){const t=e.toLowerCase();return h.call(this._lowercaseNameMap,t)?this._lowercaseNameMap[t]:null}getLanguageIdByMimeType(e){return e&&h.call(this._mimeTypesMap,e)?this._mimeTypesMap[e]:null}guessLanguageIdByFilepathOrFirstLine(e,t){return e||t?(0,a.getLanguageIds)(e,t):[]}}},67167(e,t,n){n.d(t,{O:()=>i});var r=n(87110),s=n(79359);const i=new class RegistryImpl{constructor(){this.data=new Map}add(e,t){r.ok(s.Kg(e)),r.ok(s.Gv(t)),r.ok(!this.data.has(e),"There is already an extension with this id"),this.data.set(e,t)}as(e){return this.data.get(e)||null}}},78518(e,t,n){n.d(t,{No:()=>hasDriveLetter,TH:()=>toSlashes,Zn:()=>getRoot,_1:()=>isEqualOrParent,kb:()=>toPosixPath});var r=n(18019),s=n(63339),i=n(16844);function isPathSeparator(e){return 47===e||92===e}function toSlashes(e){return e.replace(/[\\/]/g,r.SA.sep)}function toPosixPath(e){return-1===e.indexOf("/")&&(e=toSlashes(e)),/^[a-zA-Z]:(\/|$)/.test(e)&&(e="/"+e),e}function getRoot(e,t=r.SA.sep){if(!e)return"";const n=e.length,s=e.charCodeAt(0);if(isPathSeparator(s)){if(isPathSeparator(e.charCodeAt(1))&&!isPathSeparator(e.charCodeAt(2))){let r=3;const s=r;for(;r<n&&!isPathSeparator(e.charCodeAt(r));r++);if(s!==r&&!isPathSeparator(e.charCodeAt(r+1)))for(r+=1;r<n;r++)if(isPathSeparator(e.charCodeAt(r)))return e.slice(0,r+1).replace(/[\\/]/g,t)}return t}if(isWindowsDriveLetter(s)&&58===e.charCodeAt(1))return isPathSeparator(e.charCodeAt(2))?e.slice(0,2)+t:e.slice(0,2);let i=e.indexOf("://");if(-1!==i)for(i+=3;i<n;i++)if(isPathSeparator(e.charCodeAt(i)))return e.slice(0,i+1);return""}function isEqualOrParent(e,t,n,s=r.Vn){if(e===t)return!0;if(!e||!t)return!1;if(t.length>e.length)return!1;if(n){if(!(0,i.ns)(e,t))return!1;if(t.length===e.length)return!0;let n=t.length;return t.charAt(t.length-1)===s&&n--,e.charAt(n)===s}return t.charAt(t.length-1)!==s&&(t+=s),0===e.indexOf(t)}function isWindowsDriveLetter(e){return e>=65&&e<=90||e>=97&&e<=122}function hasDriveLetter(e,t=s.uF){return!!t&&(isWindowsDriveLetter(e.charCodeAt(0))&&58===e.charCodeAt(1))}},82399(e,t,n){var r;n.d(t,{_$:()=>r,_Y:()=>s,u1:()=>createDecorator}),function(e){e.serviceIds=new Map,e.DI_TARGET="$di$target",e.DI_DEPENDENCIES="$di$dependencies",e.getServiceDependencies=function getServiceDependencies(t){return t[e.DI_DEPENDENCIES]||[]}}(r||(r={}));const s=createDecorator("instantiationService");function createDecorator(e){if(r.serviceIds.has(e))return r.serviceIds.get(e);const id=function(e,t,n){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");!function storeServiceDependency(e,t,n){t[r.DI_TARGET]===t?t[r.DI_DEPENDENCIES].push({id:e,index:n}):(t[r.DI_DEPENDENCIES]=[{id:e,index:n}],t[r.DI_TARGET]=t)}(id,e,n)};return id.toString=()=>e,r.serviceIds.set(e,id),id}},83930(e,t,n){n.r(t),n.d(t,{LanguageService:()=>LanguageService});var r=n(2106),s=n(10998),i=n(66995),a=n(13338),o=n(44364),u=n(54957),l=n(16311);class LanguageService extends s.jG{static{this.instanceCount=0}constructor(e=!1){super(),this._onDidRequestBasicLanguageFeatures=this._register(new r.vl),this.onDidRequestBasicLanguageFeatures=this._onDidRequestBasicLanguageFeatures.event,this._onDidRequestRichLanguageFeatures=this._register(new r.vl),this.onDidRequestRichLanguageFeatures=this._onDidRequestRichLanguageFeatures.event,this._onDidChange=this._register(new r.vl({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,this._requestedBasicLanguages=new Set,this._requestedRichLanguages=new Set,LanguageService.instanceCount++,this._registry=this._register(new i.LanguagesRegistry(!0,e)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange((()=>this._onDidChange.fire())))}dispose(){LanguageService.instanceCount--,super.dispose()}isRegisteredLanguageId(e){return this._registry.isRegisteredLanguageId(e)}getLanguageIdByLanguageName(e){return this._registry.getLanguageIdByLanguageName(e)}getLanguageIdByMimeType(e){return this._registry.getLanguageIdByMimeType(e)}guessLanguageIdByFilepathOrFirstLine(e,t){const n=this._registry.guessLanguageIdByFilepathOrFirstLine(e,t);return(0,a.Fy)(n,null)}createById(e){return new LanguageSelection(this.onDidChange,(()=>this._createAndGetLanguageIdentifier(e)))}createByFilepathOrFirstLine(e,t){return new LanguageSelection(this.onDidChange,(()=>{const n=this.guessLanguageIdByFilepathOrFirstLine(e,t);return this._createAndGetLanguageIdentifier(n)}))}_createAndGetLanguageIdentifier(e){return e&&this.isRegisteredLanguageId(e)||(e=u.vH),e}requestBasicLanguageFeatures(e){this._requestedBasicLanguages.has(e)||(this._requestedBasicLanguages.add(e),this._onDidRequestBasicLanguageFeatures.fire(e))}requestRichLanguageFeatures(e){this._requestedRichLanguages.has(e)||(this._requestedRichLanguages.add(e),this.requestBasicLanguageFeatures(e),o.dG.getOrCreate(e),this._onDidRequestRichLanguageFeatures.fire(e))}}class LanguageSelection{constructor(e,t){this._value=(0,l.y0)(this,e,(()=>t())),this.onDidChange=r.Jh.fromObservable(this._value)}get languageId(){return this._value.get()}}},83958(e,t,n){n.d(t,{YW:()=>match,qg:()=>parse});var r=n(65958),s=n(78518),i=n(27992),a=n(18019),o=n(63339),u=n(16844);const l="**",h="[/\\\\]",d="[^/\\\\]",g=/\//g;function starsToRegExp(e,t){switch(e){case 0:return"";case 1:return`${d}*?`;default:return`(?:${h}|${d}+${h}${t?`|${h}${d}+`:""})*?`}}function splitGlobAware(e,t){if(!e)return[];const n=[];let r=!1,s=!1,i="";for(const a of e){switch(a){case t:if(!r&&!s){n.push(i),i="";continue}break;case"{":r=!0;break;case"}":r=!1;break;case"[":s=!0;break;case"]":s=!1}i+=a}return i&&n.push(i),n}function parseRegExp(e){if(!e)return"";let t="";const n=splitGlobAware(e,"/");if(n.every((e=>e===l)))t=".*";else{let e=!1;n.forEach(((r,s)=>{if(r===l){if(e)return;t+=starsToRegExp(2,s===n.length-1)}else{let e=!1,i="",a=!1,o="";for(const n of r)if("}"!==n&&e)i+=n;else if(!a||"]"===n&&o)switch(n){case"{":e=!0;continue;case"[":a=!0;continue;case"}":{const n=`(?:${splitGlobAware(i,",").map((e=>parseRegExp(e))).join("|")})`;t+=n,e=!1,i="";break}case"]":t+="["+o+"]",a=!1,o="";break;case"?":t+=d;continue;case"*":t+=starsToRegExp(1);continue;default:t+=(0,u.bm)(n)}else{let e;e="-"===n?n:"^"!==n&&"!"!==n||o?"/"===n?"":(0,u.bm)(n):"^",o+=e}s<n.length-1&&(n[s+1]!==l||s+2<n.length)&&(t+=h)}e=r===l}))}return t}const c=/^\*\*\/\*\.[\w\.-]+$/,f=/^\*\*\/([\w\.-]+)\/?$/,p=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,v=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,m=/^\*\*((\/[\w\.-]+)+)\/?$/,b=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,y=new i.qK(1e4),FALSE=function(){return!1},NULL=function(){return null};function parsePattern(e,t){if(!e)return NULL;let n;n="string"!=typeof e?e.pattern:e,n=n.trim();const r=`${n}_${!!t.trimForExclusions}`;let s,i=y.get(r);return i||(i=c.test(n)?function trivia1(e,t){return function(n,r){return"string"==typeof n&&n.endsWith(e)?t:null}}(n.substr(4),n):(s=f.exec(trimForExclusions(n,t)))?function trivia2(e,t){const n=`/${e}`,r=`\\${e}`,parsedPattern=function(s,i){return"string"!=typeof s?null:i?i===e?t:null:s===e||s.endsWith(n)||s.endsWith(r)?t:null},s=[e];return parsedPattern.basenames=s,parsedPattern.patterns=[t],parsedPattern.allBasenames=s,parsedPattern}(s[1],n):(t.trimForExclusions?v:p).test(n)?function trivia3(e,t){const n=aggregateBasenameMatches(e.slice(1,-1).split(",").map((e=>parsePattern(e,t))).filter((e=>e!==NULL)),e),r=n.length;if(!r)return NULL;if(1===r)return n[0];const parsedPattern=function(t,r){for(let s=0,i=n.length;s<i;s++)if(n[s](t,r))return e;return null},s=n.find((e=>!!e.allBasenames));s&&(parsedPattern.allBasenames=s.allBasenames);const i=n.reduce(((e,t)=>t.allPaths?e.concat(t.allPaths):e),[]);i.length&&(parsedPattern.allPaths=i);return parsedPattern}(n,t):(s=m.exec(trimForExclusions(n,t)))?trivia4and5(s[1].substr(1),n,!0):(s=b.exec(trimForExclusions(n,t)))?trivia4and5(s[1],n,!1):function toRegExp(e){try{const t=new RegExp(`^${parseRegExp(e)}$`);return function(n){return t.lastIndex=0,"string"==typeof n&&t.test(n)?e:null}}catch(e){return NULL}}(n),y.set(r,i)),wrapRelativePattern(i,e)}function wrapRelativePattern(e,t){if("string"==typeof t)return e;const wrappedPattern=function(n,r){return(0,s._1)(n,t.base,!o.j9)?e((0,u.NB)(n.substr(t.base.length),a.Vn),r):null};return wrappedPattern.allBasenames=e.allBasenames,wrappedPattern.allPaths=e.allPaths,wrappedPattern.basenames=e.basenames,wrappedPattern.patterns=e.patterns,wrappedPattern}function trimForExclusions(e,t){return t.trimForExclusions&&e.endsWith("/**")?e.substr(0,e.length-2):e}function trivia4and5(e,t,n){const r=a.Vn===a.SA.sep,s=r?e:e.replace(g,a.Vn),i=a.Vn+s,o=a.SA.sep+e;let u;return u=n?function(n,a){return"string"!=typeof n||n!==s&&!n.endsWith(i)&&(r||n!==e&&!n.endsWith(o))?null:t}:function(n,i){return"string"!=typeof n||n!==s&&(r||n!==e)?null:t},u.allPaths=[(n?"*/":"./")+e],u}function match(e,t,n){return!(!e||"string"!=typeof t)&&parse(e)(t,void 0,n)}function parse(e,t={}){if(!e)return FALSE;if("string"==typeof e||function isRelativePattern(e){const t=e;if(!t)return!1;return"string"==typeof t.base&&"string"==typeof t.pattern}(e)){const n=parsePattern(e,t);if(n===NULL)return FALSE;const resultPattern=function(e,t){return!!n(e,t)};return n.allBasenames&&(resultPattern.allBasenames=n.allBasenames),n.allPaths&&(resultPattern.allPaths=n.allPaths),resultPattern}return function parsedExpression(e,t){const n=aggregateBasenameMatches(Object.getOwnPropertyNames(e).map((n=>function parseExpressionPattern(e,t,n){if(!1===t)return NULL;const s=parsePattern(e,n);if(s===NULL)return NULL;if("boolean"==typeof t)return s;if(t){const n=t.when;if("string"==typeof n){const result=(t,i,a,o)=>{if(!o||!s(t,i))return null;const u=o(n.replace("$(basename)",(()=>a)));return(0,r.Qg)(u)?u.then((t=>t?e:null)):u?e:null};return result.requiresSiblings=!0,result}}return s}(n,e[n],t))).filter((e=>e!==NULL))),s=n.length;if(!s)return NULL;if(!n.some((e=>!!e.requiresSiblings))){if(1===s)return n[0];const resultExpression=function(e,t){let s;for(let i=0,a=n.length;i<a;i++){const a=n[i](e,t);if("string"==typeof a)return a;(0,r.Qg)(a)&&(s||(s=[]),s.push(a))}return s?(async()=>{for(const e of s){const t=await e;if("string"==typeof t)return t}return null})():null},e=n.find((e=>!!e.allBasenames));e&&(resultExpression.allBasenames=e.allBasenames);const t=n.reduce(((e,t)=>t.allPaths?e.concat(t.allPaths):e),[]);return t.length&&(resultExpression.allPaths=t),resultExpression}const resultExpression=function(e,t,s){let i,o;for(let u=0,l=n.length;u<l;u++){const l=n[u];l.requiresSiblings&&s&&(t||(t=(0,a.P8)(e)),i||(i=t.substr(0,t.length-(0,a.LC)(e).length)));const h=l(e,t,i,s);if("string"==typeof h)return h;(0,r.Qg)(h)&&(o||(o=[]),o.push(h))}return o?(async()=>{for(const e of o){const t=await e;if("string"==typeof t)return t}return null})():null},i=n.find((e=>!!e.allBasenames));i&&(resultExpression.allBasenames=i.allBasenames);const o=n.reduce(((e,t)=>t.allPaths?e.concat(t.allPaths):e),[]);o.length&&(resultExpression.allPaths=o);return resultExpression}(e,t)}function aggregateBasenameMatches(e,t){const n=e.filter((e=>!!e.basenames));if(n.length<2)return e;const r=n.reduce(((e,t)=>{const n=t.basenames;return n?e.concat(n):e}),[]);let s;if(t){s=[];for(let e=0,n=r.length;e<n;e++)s.push(t)}else s=n.reduce(((e,t)=>{const n=t.patterns;return n?e.concat(n):e}),[]);const aggregate=function(e,t){if("string"!=typeof e)return null;if(!t){let n;for(n=e.length;n>0;n--){const t=e.charCodeAt(n-1);if(47===t||92===t)break}t=e.substr(n)}const n=r.indexOf(t);return-1!==n?s[n]:null};aggregate.basenames=r,aggregate.patterns=s,aggregate.allBasenames=r;const i=e.filter((e=>!e.basenames));return i.push(aggregate),i}},85753(e,t,n){n.d(t,{Mo:()=>getLanguageTagSettingPlainKey,ad:()=>toValuesTree,gD:()=>getConfigurationValue,iB:()=>removeFromValueTree,kW:()=>addToValueTree,pG:()=>r});const r=(0,n(82399).u1)("configurationService");function toValuesTree(e,t){const n=Object.create(null);for(const r in e)addToValueTree(n,r,e[r],t);return n}function addToValueTree(e,t,n,r){const s=t.split("."),i=s.pop();let a=e;for(let e=0;e<s.length;e++){const n=s[e];let i=a[n];switch(typeof i){case"undefined":i=a[n]=Object.create(null);break;case"object":if(null===i)return void r(`Ignoring ${t} as ${s.slice(0,e+1).join(".")} is null`);break;default:return void r(`Ignoring ${t} as ${s.slice(0,e+1).join(".")} is ${JSON.stringify(i)}`)}a=i}if("object"==typeof a&&null!==a)try{a[i]=n}catch(e){r(`Ignoring ${t} as ${s.join(".")} is ${JSON.stringify(a)}`)}else r(`Ignoring ${t} as ${s.join(".")} is ${JSON.stringify(a)}`)}function removeFromValueTree(e,t){doRemoveFromValueTree(e,t.split("."))}function doRemoveFromValueTree(e,t){const n=t.shift();if(0!==t.length){if(-1!==Object.keys(e).indexOf(n)){const r=e[n];"object"!=typeof r||Array.isArray(r)||(doRemoveFromValueTree(r,t),0===Object.keys(r).length&&delete e[n])}}else delete e[n]}function getConfigurationValue(e,t,n){const r=function accessSetting(e,t){let n=e;for(const e of t){if("object"!=typeof n||null===n)return;n=n[e]}return n}(e,t.split("."));return void 0===r?n:r}function getLanguageTagSettingPlainKey(e){return e.replace(/[\[\]]/g,"")}}}]);