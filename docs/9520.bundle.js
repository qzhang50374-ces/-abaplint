"use strict";(self.webpackChunkabaplint_playground=self.webpackChunkabaplint_playground||[]).push([[9520],{3902(e,t,r){function countEOL(e){let t=0,r=0,s=0,n=0;for(let i=0,a=e.length;i<a;i++){const o=e.charCodeAt(i);13===o?(0===t&&(r=i),t++,i+1<a&&10===e.charCodeAt(i+1)?(n|=2,i++):n|=3,s=i+1):10===o&&(n|=1,0===t&&(r=i),t++,s=i+1)}return 0===t&&(r=e.length),[t,r,e.length-s,n]}r.d(t,{W:()=>countEOL})},9520(e,t,r){r.r(t),r.d(t,{SemanticTokensProviderStyling:()=>l,toMultilineTokens2:()=>toMultilineTokens2});r(15910);var s=r(89044),n=r(46441),i=r(15365),a=r(28061),o=r(3902);class SparseMultilineTokens{static create(e,t){return new SparseMultilineTokens(e,new SparseMultilineTokensStorage(t))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}constructor(e,t){this._startLineNumber=e,this._tokens=t,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(e){return this._startLineNumber<=e&&e<=this._endLineNumber?this._tokens.getLineTokens(e-this._startLineNumber):null}getRange(){const e=this._tokens.getRange();return e?new a.Q(this._startLineNumber+e.startLineNumber,e.startColumn,this._startLineNumber+e.endLineNumber,e.endColumn):e}removeTokens(e){const t=e.startLineNumber-this._startLineNumber,r=e.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(t,e.startColumn-1,r,e.endColumn-1),this._updateEndLineNumber()}split(e){const t=e.startLineNumber-this._startLineNumber,r=e.endLineNumber-this._startLineNumber,[s,n,i]=this._tokens.split(t,e.startColumn-1,r,e.endColumn-1);return[new SparseMultilineTokens(this._startLineNumber,s),new SparseMultilineTokens(this._startLineNumber+i,n)]}applyEdit(e,t){const[r,s,n]=(0,o.W)(t);this.acceptEdit(e,r,s,n,t.length>0?t.charCodeAt(0):0)}acceptEdit(e,t,r,s,n){this._acceptDeleteRange(e),this._acceptInsertText(new i.y(e.startLineNumber,e.startColumn),t,r,s,n),this._updateEndLineNumber()}_acceptDeleteRange(e){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return;const t=e.startLineNumber-this._startLineNumber,r=e.endLineNumber-this._startLineNumber;if(r<0){const e=r-t;return void(this._startLineNumber-=e)}const s=this._tokens.getMaxDeltaLine();if(!(t>=s+1)){if(t<0&&r>=s+1)return this._startLineNumber=0,void this._tokens.clear();if(t<0){const s=-t;this._startLineNumber-=s,this._tokens.acceptDeleteRange(e.startColumn-1,0,0,r,e.endColumn-1)}else this._tokens.acceptDeleteRange(0,t,e.startColumn-1,r,e.endColumn-1)}}_acceptInsertText(e,t,r,s,n){if(0===t&&0===r)return;const i=e.lineNumber-this._startLineNumber;if(i<0)return void(this._startLineNumber+=t);i>=this._tokens.getMaxDeltaLine()+1||this._tokens.acceptInsertText(i,e.column-1,t,r,s,n)}}class SparseMultilineTokensStorage{constructor(e){this._tokens=e,this._tokenCount=e.length/4}toString(e){const t=[];for(let r=0;r<this._tokenCount;r++)t.push(`(${this._getDeltaLine(r)+e},${this._getStartCharacter(r)}-${this._getEndCharacter(r)})`);return`[${t.join(",")}]`}getMaxDeltaLine(){const e=this._getTokenCount();return 0===e?-1:this._getDeltaLine(e-1)}getRange(){const e=this._getTokenCount();if(0===e)return null;const t=this._getStartCharacter(0),r=this._getDeltaLine(e-1),s=this._getEndCharacter(e-1);return new a.Q(0,t+1,r,s+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(e){return this._tokens[4*e]}_getStartCharacter(e){return this._tokens[4*e+1]}_getEndCharacter(e){return this._tokens[4*e+2]}isEmpty(){return 0===this._getTokenCount()}getLineTokens(e){let t=0,r=this._getTokenCount()-1;for(;t<r;){const s=t+Math.floor((r-t)/2),n=this._getDeltaLine(s);if(n<e)t=s+1;else{if(!(n>e)){let n=s;for(;n>t&&this._getDeltaLine(n-1)===e;)n--;let i=s;for(;i<r&&this._getDeltaLine(i+1)===e;)i++;return new SparseLineTokens(this._tokens.subarray(4*n,4*i+4))}r=s-1}}return this._getDeltaLine(t)===e?new SparseLineTokens(this._tokens.subarray(4*t,4*t+4)):null}clear(){this._tokenCount=0}removeTokens(e,t,r,s){const n=this._tokens,i=this._tokenCount;let a=0,o=!1,h=0;for(let u=0;u<i;u++){const i=4*u,l=n[i],c=n[i+1],p=n[i+2],g=n[i+3];if((l>e||l===e&&p>=t)&&(l<r||l===r&&c<=s))o=!0;else{if(0===a&&(h=l),o){const e=4*a;n[e]=l-h,n[e+1]=c,n[e+2]=p,n[e+3]=g}a++}}return this._tokenCount=a,h}split(e,t,r,s){const n=this._tokens,i=this._tokenCount,a=[],o=[];let h=a,u=0,l=0;for(let a=0;a<i;a++){const i=4*a,c=n[i],p=n[i+1],g=n[i+2],y=n[i+3];if(c>e||c===e&&g>=t){if(c<r||c===r&&p<=s)continue;h!==o&&(h=o,u=0,l=c)}h[u++]=c-l,h[u++]=p,h[u++]=g,h[u++]=y}return[new SparseMultilineTokensStorage(new Uint32Array(a)),new SparseMultilineTokensStorage(new Uint32Array(o)),l]}acceptDeleteRange(e,t,r,s,n){const i=this._tokens,a=this._tokenCount,o=s-t;let h=0,u=!1;for(let l=0;l<a;l++){const c=4*l;let p=i[c],g=i[c+1],y=i[c+2];const d=i[c+3];if(p<t||p===t&&y<=r){h++;continue}if(p===t&&g<r)p===s&&y>n?y-=n-r:y=r;else if(p===t&&g===r){if(!(p===s&&y>n)){u=!0;continue}y-=n-r}else if(p<s||p===s&&g<n){if(!(p===s&&y>n)){u=!0;continue}p=t,g=r,y=g+(y-n)}else if(p>s){if(0===o&&!u){h=a;break}p-=o}else{if(!(p===s&&g>=n))throw new Error("Not possible!");e&&0===p&&(g+=e,y+=e),p-=o,g-=n-r,y-=n-r}const _=4*h;i[_]=p,i[_+1]=g,i[_+2]=y,i[_+3]=d,h++}this._tokenCount=h}acceptInsertText(e,t,r,s,n,i){const a=0===r&&1===s&&(i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122),o=this._tokens,h=this._tokenCount;for(let i=0;i<h;i++){const h=4*i;let u=o[h],l=o[h+1],c=o[h+2];if(!(u<e||u===e&&c<t)){if(u===e&&c===t){if(!a)continue;c+=1}else if(u===e&&l<t&&t<c)0===r?c+=s:c=t;else{if(u===e&&l===t&&a)continue;if(u===e)if(u+=r,0===r)l+=s,c+=s;else{const e=c-l;l=n+(l-t),c=l+e}else u+=r}o[h]=u,o[h+1]=l,o[h+2]=c}}}}class SparseLineTokens{constructor(e){this._tokens=e}getCount(){return this._tokens.length/4}getStartCharacter(e){return this._tokens[4*e+1]}getEndCharacter(e){return this._tokens[4*e+2]}getMetadata(e){return this._tokens[4*e+3]}}var h=r(77922),__decorate=function(e,t,r,s){var n,i=arguments.length,a=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,s);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(a=(i<3?n(a):i>3?n(t,r,a):n(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a},__param=function(e,t){return function(r,s){t(r,s,e)}};const u=!1;let l=class SemanticTokensProviderStyling{constructor(e,t,r,s){this._legend=e,this._themeService=t,this._languageService=r,this._logService=s,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new HashTable}getMetadata(e,t,r){const s=this._languageService.languageIdCodec.encodeLanguageId(r),n=this._hashTable.get(e,t,s);let i;if(n)i=n.metadata;else{let n=this._legend.tokenTypes[e];const a=[];if(n){let e=t;for(let t=0;e>0&&t<this._legend.tokenModifiers.length;t++)1&e&&a.push(this._legend.tokenModifiers[t]),e>>=1;u;const s=this._themeService.getColorTheme().getTokenStyleMetadata(n,a,r);if(void 0===s)i=2147483647;else{if(i=0,void 0!==s.italic){i|=1|(s.italic?1:0)<<11}if(void 0!==s.bold){i|=2|(s.bold?2:0)<<11}if(void 0!==s.underline){i|=4|(s.underline?4:0)<<11}if(void 0!==s.strikethrough){i|=8|(s.strikethrough?8:0)<<11}if(s.foreground){i|=16|s.foreground<<15}0===i&&(i=2147483647)}}else i=2147483647,n="not-in-legend";this._hashTable.add(e,t,s,i)}return i}warnOverlappingSemanticTokens(e,t){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,this._logService.warn(`Overlapping semantic tokens detected at lineNumber ${e}, column ${t}`))}warnInvalidLengthSemanticTokens(e,t){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,this._logService.warn(`Semantic token with invalid length detected at lineNumber ${e}, column ${t}`))}warnInvalidEditStart(e,t,r,s,n){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,this._logService.warn(`Invalid semantic tokens edit detected (previousResultId: ${e}, resultId: ${t}) at edit #${r}: The provided start offset ${s} is outside the previous data (length ${n}).`))}};function toMultilineTokens2(e,t,r){const s=e.data,n=e.data.length/5|0,i=Math.max(Math.ceil(n/1024),400),a=[];let o=0,h=1,u=0;for(;o<n;){const e=o;let l=Math.min(e+i,n);if(l<n){let t=l;for(;t-1>e&&0===s[5*t];)t--;if(t-1===e){let e=l;for(;e+1<n&&0===s[5*e];)e++;l=e}else l=t}let c=new Uint32Array(4*(l-e)),p=0,g=0,y=0,d=0;for(;o<l;){const e=5*o,n=s[e],i=s[e+1],a=h+n|0,l=0===n?u+i|0:i,_=l+s[e+2]|0,x=s[e+3],f=s[e+4];if(_<=l)t.warnInvalidLengthSemanticTokens(a,l+1);else if(y===a&&d>l)t.warnOverlappingSemanticTokens(a,l+1);else{const e=t.getMetadata(x,f,r);2147483647!==e&&(0===g&&(g=a),c[p]=a-g,c[p+1]=l,c[p+2]=_,c[p+3]=e,p+=4,y=a,d=_)}h=a,u=l,o++}p!==c.length&&(c=c.subarray(0,p));const _=SparseMultilineTokens.create(g,c);a.push(_)}return a}l=__decorate([__param(1,s.Gy),__param(2,h.L),__param(3,n.rr)],l);class HashTableEntry{constructor(e,t,r,s){this.tokenTypeIndex=e,this.tokenModifierSet=t,this.languageId=r,this.metadata=s,this.next=null}}class HashTable{static{this._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]}constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=HashTable._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<HashTable._SIZES.length?2/3*this._currentLength:0),this._elements=[],HashTable._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(e,t){for(let r=0;r<t;r++)e[r]=null}_hash2(e,t){return(e<<5)-e+t|0}_hashFunc(e,t,r){return this._hash2(this._hash2(e,t),r)%this._currentLength}get(e,t,r){const s=this._hashFunc(e,t,r);let n=this._elements[s];for(;n;){if(n.tokenTypeIndex===e&&n.tokenModifierSet===t&&n.languageId===r)return n;n=n.next}return null}add(e,t,r,s){if(this._elementsCount++,0!==this._growCount&&this._elementsCount>=this._growCount){const e=this._elements;this._currentLengthIndex++,this._currentLength=HashTable._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<HashTable._SIZES.length?2/3*this._currentLength:0),this._elements=[],HashTable._nullOutEntries(this._elements,this._currentLength);for(const t of e){let e=t;for(;e;){const t=e.next;e.next=null,this._add(e),e=t}}}this._add(new HashTableEntry(e,t,r,s))}_add(e){const t=this._hashFunc(e.tokenTypeIndex,e.tokenModifierSet,e.languageId);e.next=this._elements[t],this._elements[t]=e}}},15910(e,t,r){r.d(t,{x:()=>TokenMetadata});class TokenMetadata{static getLanguageId(e){return(255&e)>>>0}static getTokenType(e){return(768&e)>>>8}static containsBalancedBrackets(e){return!!(1024&e)}static getFontStyle(e){return(30720&e)>>>11}static getForeground(e){return(16744448&e)>>>15}static getBackground(e){return(4278190080&e)>>>24}static getClassNameFromMetadata(e){let t="mtk"+this.getForeground(e);const r=this.getFontStyle(e);return 1&r&&(t+=" mtki"),2&r&&(t+=" mtkb"),4&r&&(t+=" mtku"),8&r&&(t+=" mtks"),t}static getInlineStyleFromMetadata(e,t){const r=this.getForeground(e),s=this.getFontStyle(e);let n=`color: ${t[r]};`;1&s&&(n+="font-style: italic;"),2&s&&(n+="font-weight: bold;");let i="";return 4&s&&(i+=" underline"),8&s&&(i+=" line-through"),i&&(n+=`text-decoration:${i};`),n}static getPresentationFromMetadata(e){const t=this.getForeground(e),r=this.getFontStyle(e);return{foreground:t,italic:Boolean(1&r),bold:Boolean(2&r),underline:Boolean(4&r),strikethrough:Boolean(8&r)}}}},31540(e,t,r){r.d(t,{f1:()=>ContextKeyEqualsExpr,M$:()=>ContextKeyExpr,fN:()=>C,N1:()=>RawContextKey,jQ:()=>expressionsAreEqualWithConstantSubstitution,M0:()=>implies});var s=r(63339),n=r(16844),i=r(94327),a=r(19746);function hintDidYouMean(...e){switch(e.length){case 1:return(0,a.kg)("contextkey.scanner.hint.didYouMean1","Did you mean {0}?",e[0]);case 2:return(0,a.kg)("contextkey.scanner.hint.didYouMean2","Did you mean {0} or {1}?",e[0],e[1]);case 3:return(0,a.kg)("contextkey.scanner.hint.didYouMean3","Did you mean {0}, {1} or {2}?",e[0],e[1],e[2]);default:return}}const o=(0,a.kg)("contextkey.scanner.hint.didYouForgetToOpenOrCloseQuote","Did you forget to open or close the quote?"),h=(0,a.kg)("contextkey.scanner.hint.didYouForgetToEscapeSlash","Did you forget to escape the '/' (slash) character? Put two backslashes before it to escape, e.g., '\\\\/'.");class Scanner{constructor(){this._input="",this._start=0,this._current=0,this._tokens=[],this._errors=[],this.stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(e){switch(e.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return e.isTripleEq?"===":"==";case 4:return e.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:case 8:return">=";case 9:return"=~";case 10:case 17:case 18:case 19:return e.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 20:return"EOF";default:throw(0,i.iH)(`unhandled token type: ${JSON.stringify(e)}; have you forgotten to add a case?`)}}static{this._regexFlags=new Set(["i","g","s","m","y","u"].map((e=>e.charCodeAt(0))))}static{this._keywords=new Map([["not",14],["in",13],["false",12],["true",11]])}reset(e){return this._input=e,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();){this._start=this._current;switch(this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){const e=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:e})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){const e=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:e})}else this._match(126)?this._addToken(9):this._error(hintDidYouMean("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(hintDidYouMean("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(hintDidYouMean("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(e){return!this._isAtEnd()&&(this._input.charCodeAt(this._current)===e&&(this._current++,!0))}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(e){this._tokens.push({type:e,offset:this._start})}_error(e){const t=this._start,r=this._input.substring(this._start,this._current),s={type:19,offset:this._start,lexeme:r};this._errors.push({offset:t,lexeme:r,additionalInfo:e}),this._tokens.push(s)}_string(){this.stringRe.lastIndex=this._start;const e=this.stringRe.exec(this._input);if(e){this._current=this._start+e[0].length;const t=this._input.substring(this._start,this._current),r=Scanner._keywords.get(t);r?this._addToken(r):this._tokens.push({type:17,lexeme:t,offset:this._start})}}_quotedString(){for(;39!==this._peek()&&!this._isAtEnd();)this._advance();this._isAtEnd()?this._error(o):(this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1}))}_regex(){let e=this._current,t=!1,r=!1;for(;;){if(e>=this._input.length)return this._current=e,void this._error(h);const s=this._input.charCodeAt(e);if(t)t=!1;else{if(47===s&&!r){e++;break}91===s?r=!0:92===s?t=!0:93===s&&(r=!1)}e++}for(;e<this._input.length&&Scanner._regexFlags.has(this._input.charCodeAt(e));)e++;this._current=e;const s=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:s,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}}var u=r(82399);const l=new Map;l.set("false",!1),l.set("true",!0),l.set("isMac",s.zx),l.set("isLinux",s.j9),l.set("isWindows",s.uF),l.set("isWeb",s.HZ),l.set("isMacNative",s.zx&&!s.HZ),l.set("isEdge",s.UP),l.set("isFirefox",s.gm),l.set("isChrome",s.H8),l.set("isSafari",s.nr);const c=Object.prototype.hasOwnProperty,p={regexParsingWithErrorRecovery:!0},g=(0,a.kg)("contextkey.parser.error.emptyString","Empty context key expression"),y=(0,a.kg)("contextkey.parser.error.emptyString.hint","Did you forget to write an expression? You can also put 'false' or 'true' to always evaluate to false or true, respectively."),d=(0,a.kg)("contextkey.parser.error.noInAfterNot","'in' after 'not'."),_=(0,a.kg)("contextkey.parser.error.closingParenthesis","closing parenthesis ')'"),x=(0,a.kg)("contextkey.parser.error.unexpectedToken","Unexpected token"),f=(0,a.kg)("contextkey.parser.error.unexpectedToken.hint","Did you forget to put && or || before the token?"),k=(0,a.kg)("contextkey.parser.error.unexpectedEOF","Unexpected end of expression"),E=(0,a.kg)("contextkey.parser.error.unexpectedEOF.hint","Did you forget to put a context key?");class Parser{static{this._parseError=new Error}constructor(e=p){this._config=e,this._scanner=new Scanner,this._tokens=[],this._current=0,this._parsingErrors=[],this._flagsGYRe=/g|y/g}parse(e){if(""!==e){this._tokens=this._scanner.reset(e).scan(),this._current=0,this._parsingErrors=[];try{const e=this._expr();if(!this._isAtEnd()){const e=this._peek(),t=17===e.type?f:void 0;throw this._parsingErrors.push({message:x,offset:e.offset,lexeme:Scanner.getLexeme(e),additionalInfo:t}),Parser._parseError}return e}catch(e){if(e!==Parser._parseError)throw e;return}}else this._parsingErrors.push({message:g,offset:0,lexeme:"",additionalInfo:y})}_expr(){return this._or()}_or(){const e=[this._and()];for(;this._matchOne(16);){const t=this._and();e.push(t)}return 1===e.length?e[0]:ContextKeyExpr.or(...e)}_and(){const e=[this._term()];for(;this._matchOne(15);){const t=this._term();e.push(t)}return 1===e.length?e[0]:ContextKeyExpr.and(...e)}_term(){if(this._matchOne(2)){const e=this._peek();switch(e.type){case 11:return this._advance(),ContextKeyFalseExpr.INSTANCE;case 12:return this._advance(),ContextKeyTrueExpr.INSTANCE;case 0:{this._advance();const e=this._expr();return this._consume(1,_),e?.negate()}case 17:return this._advance(),ContextKeyNotExpr.create(e.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",e)}}return this._primary()}_primary(){const e=this._peek();switch(e.type){case 11:return this._advance(),ContextKeyExpr.true();case 12:return this._advance(),ContextKeyExpr.false();case 0:{this._advance();const e=this._expr();return this._consume(1,_),e}case 17:{const t=e.lexeme;if(this._advance(),this._matchOne(9)){const e=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),10!==e.type)throw this._errExpectedButGot("REGEX",e);const r=e.lexeme,s=r.lastIndexOf("/"),n=s===r.length-1?void 0:this._removeFlagsGY(r.substring(s+1));let i;try{i=new RegExp(r.substring(1,s),n)}catch(t){throw this._errExpectedButGot("REGEX",e)}return ContextKeyRegexExpr.create(t,i)}switch(e.type){case 10:case 19:{const r=[e.lexeme];this._advance();let s=this._peek(),n=0;for(let t=0;t<e.lexeme.length;t++)40===e.lexeme.charCodeAt(t)?n++:41===e.lexeme.charCodeAt(t)&&n--;for(;!this._isAtEnd()&&15!==s.type&&16!==s.type;){switch(s.type){case 0:n++;break;case 1:n--;break;case 10:case 18:for(let t=0;t<s.lexeme.length;t++)40===s.lexeme.charCodeAt(t)?n++:41===e.lexeme.charCodeAt(t)&&n--}if(n<0)break;r.push(Scanner.getLexeme(s)),this._advance(),s=this._peek()}const i=r.join(""),a=i.lastIndexOf("/"),o=a===i.length-1?void 0:this._removeFlagsGY(i.substring(a+1));let h;try{h=new RegExp(i.substring(1,a),o)}catch(t){throw this._errExpectedButGot("REGEX",e)}return ContextKeyExpr.regex(t,h)}case 18:{const r=e.lexeme;this._advance();let s=null;if(!(0,n.AV)(r)){const t=r.indexOf("/"),n=r.lastIndexOf("/");if(t!==n&&t>=0){const i=r.slice(t+1,n),a="i"===r[n+1]?"i":"";try{s=new RegExp(i,a)}catch(t){throw this._errExpectedButGot("REGEX",e)}}}if(null===s)throw this._errExpectedButGot("REGEX",e);return ContextKeyRegexExpr.create(t,s)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,d);const e=this._value();return ContextKeyExpr.notIn(t,e)}switch(this._peek().type){case 3:{this._advance();const e=this._value();if(18===this._previous().type)return ContextKeyExpr.equals(t,e);switch(e){case"true":return ContextKeyExpr.has(t);case"false":return ContextKeyExpr.not(t);default:return ContextKeyExpr.equals(t,e)}}case 4:{this._advance();const e=this._value();if(18===this._previous().type)return ContextKeyExpr.notEquals(t,e);switch(e){case"true":return ContextKeyExpr.not(t);case"false":return ContextKeyExpr.has(t);default:return ContextKeyExpr.notEquals(t,e)}}case 5:return this._advance(),ContextKeySmallerExpr.create(t,this._value());case 6:return this._advance(),ContextKeySmallerEqualsExpr.create(t,this._value());case 7:return this._advance(),ContextKeyGreaterExpr.create(t,this._value());case 8:return this._advance(),ContextKeyGreaterEqualsExpr.create(t,this._value());case 13:return this._advance(),ContextKeyExpr.in(t,this._value());default:return ContextKeyExpr.has(t)}}case 20:throw this._parsingErrors.push({message:k,offset:e.offset,lexeme:"",additionalInfo:E}),Parser._parseError;default:throw this._errExpectedButGot("true | false | KEY \n\t| KEY '=~' REGEX \n\t| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value",this._peek())}}_value(){const e=this._peek();switch(e.type){case 17:case 18:return this._advance(),e.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_removeFlagsGY(e){return e.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(e){return!!this._check(e)&&(this._advance(),!0)}_advance(){return this._isAtEnd()||this._current++,this._previous()}_consume(e,t){if(this._check(e))return this._advance();throw this._errExpectedButGot(t,this._peek())}_errExpectedButGot(e,t,r){const s=(0,a.kg)("contextkey.parser.error.expectedButGot","Expected: {0}\nReceived: '{1}'.",e,Scanner.getLexeme(t)),n=t.offset,i=Scanner.getLexeme(t);return this._parsingErrors.push({message:s,offset:n,lexeme:i,additionalInfo:r}),Parser._parseError}_check(e){return this._peek().type===e}_peek(){return this._tokens[this._current]}_isAtEnd(){return 20===this._peek().type}}class ContextKeyExpr{static false(){return ContextKeyFalseExpr.INSTANCE}static true(){return ContextKeyTrueExpr.INSTANCE}static has(e){return ContextKeyDefinedExpr.create(e)}static equals(e,t){return ContextKeyEqualsExpr.create(e,t)}static notEquals(e,t){return ContextKeyNotEqualsExpr.create(e,t)}static regex(e,t){return ContextKeyRegexExpr.create(e,t)}static in(e,t){return ContextKeyInExpr.create(e,t)}static notIn(e,t){return ContextKeyNotInExpr.create(e,t)}static not(e){return ContextKeyNotExpr.create(e)}static and(...e){return ContextKeyAndExpr.create(e,null,!0)}static or(...e){return ContextKeyOrExpr.create(e,null,!0)}static{this._parser=new Parser({regexParsingWithErrorRecovery:!1})}static deserialize(e){if(null==e)return;return this._parser.parse(e)}}function expressionsAreEqualWithConstantSubstitution(e,t){const r=e?e.substituteConstants():void 0,s=t?t.substituteConstants():void 0;return!r&&!s||!(!r||!s)&&r.equals(s)}function cmp(e,t){return e.cmp(t)}class ContextKeyFalseExpr{static{this.INSTANCE=new ContextKeyFalseExpr}constructor(){this.type=0}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!1}serialize(){return"false"}keys(){return[]}negate(){return ContextKeyTrueExpr.INSTANCE}}class ContextKeyTrueExpr{static{this.INSTANCE=new ContextKeyTrueExpr}constructor(){this.type=1}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!0}serialize(){return"true"}keys(){return[]}negate(){return ContextKeyFalseExpr.INSTANCE}}class ContextKeyDefinedExpr{static create(e,t=null){const r=l.get(e);return"boolean"==typeof r?r?ContextKeyTrueExpr.INSTANCE:ContextKeyFalseExpr.INSTANCE:new ContextKeyDefinedExpr(e,t)}constructor(e,t){this.key=e,this.negated=t,this.type=2}cmp(e){return e.type!==this.type?this.type-e.type:cmp1(this.key,e.key)}equals(e){return e.type===this.type&&this.key===e.key}substituteConstants(){const e=l.get(this.key);return"boolean"==typeof e?e?ContextKeyTrueExpr.INSTANCE:ContextKeyFalseExpr.INSTANCE:this}evaluate(e){return!!e.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=ContextKeyNotExpr.create(this.key,this)),this.negated}}class ContextKeyEqualsExpr{static create(e,t,r=null){if("boolean"==typeof t)return t?ContextKeyDefinedExpr.create(e,r):ContextKeyNotExpr.create(e,r);const s=l.get(e);if("boolean"==typeof s){return t===(s?"true":"false")?ContextKeyTrueExpr.INSTANCE:ContextKeyFalseExpr.INSTANCE}return new ContextKeyEqualsExpr(e,t,r)}constructor(e,t,r){this.key=e,this.value=t,this.negated=r,this.type=4}cmp(e){return e.type!==this.type?this.type-e.type:cmp2(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){const e=l.get(this.key);if("boolean"==typeof e){const t=e?"true":"false";return this.value===t?ContextKeyTrueExpr.INSTANCE:ContextKeyFalseExpr.INSTANCE}return this}evaluate(e){return e.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=ContextKeyNotEqualsExpr.create(this.key,this.value,this)),this.negated}}class ContextKeyInExpr{static create(e,t){return new ContextKeyInExpr(e,t)}constructor(e,t){this.key=e,this.valueKey=t,this.type=10,this.negated=null}cmp(e){return e.type!==this.type?this.type-e.type:cmp2(this.key,this.valueKey,e.key,e.valueKey)}equals(e){return e.type===this.type&&(this.key===e.key&&this.valueKey===e.valueKey)}substituteConstants(){return this}evaluate(e){const t=e.getValue(this.valueKey),r=e.getValue(this.key);return Array.isArray(t)?t.includes(r):"string"==typeof r&&"object"==typeof t&&null!==t&&c.call(t,r)}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=ContextKeyNotInExpr.create(this.key,this.valueKey)),this.negated}}class ContextKeyNotInExpr{static create(e,t){return new ContextKeyNotInExpr(e,t)}constructor(e,t){this.key=e,this.valueKey=t,this.type=11,this._negated=ContextKeyInExpr.create(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:this._negated.cmp(e._negated)}equals(e){return e.type===this.type&&this._negated.equals(e._negated)}substituteConstants(){return this}evaluate(e){return!this._negated.evaluate(e)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}class ContextKeyNotEqualsExpr{static create(e,t,r=null){if("boolean"==typeof t)return t?ContextKeyNotExpr.create(e,r):ContextKeyDefinedExpr.create(e,r);const s=l.get(e);if("boolean"==typeof s){return t===(s?"true":"false")?ContextKeyFalseExpr.INSTANCE:ContextKeyTrueExpr.INSTANCE}return new ContextKeyNotEqualsExpr(e,t,r)}constructor(e,t,r){this.key=e,this.value=t,this.negated=r,this.type=5}cmp(e){return e.type!==this.type?this.type-e.type:cmp2(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){const e=l.get(this.key);if("boolean"==typeof e){const t=e?"true":"false";return this.value===t?ContextKeyFalseExpr.INSTANCE:ContextKeyTrueExpr.INSTANCE}return this}evaluate(e){return e.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=ContextKeyEqualsExpr.create(this.key,this.value,this)),this.negated}}class ContextKeyNotExpr{static create(e,t=null){const r=l.get(e);return"boolean"==typeof r?r?ContextKeyFalseExpr.INSTANCE:ContextKeyTrueExpr.INSTANCE:new ContextKeyNotExpr(e,t)}constructor(e,t){this.key=e,this.negated=t,this.type=3}cmp(e){return e.type!==this.type?this.type-e.type:cmp1(this.key,e.key)}equals(e){return e.type===this.type&&this.key===e.key}substituteConstants(){const e=l.get(this.key);return"boolean"==typeof e?e?ContextKeyFalseExpr.INSTANCE:ContextKeyTrueExpr.INSTANCE:this}evaluate(e){return!e.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=ContextKeyDefinedExpr.create(this.key,this)),this.negated}}function withFloatOrStr(e,t){if("string"==typeof e){const t=parseFloat(e);isNaN(t)||(e=t)}return"string"==typeof e||"number"==typeof e?t(e):ContextKeyFalseExpr.INSTANCE}class ContextKeyGreaterExpr{static create(e,t,r=null){return withFloatOrStr(t,(t=>new ContextKeyGreaterExpr(e,t,r)))}constructor(e,t,r){this.key=e,this.value=t,this.negated=r,this.type=12}cmp(e){return e.type!==this.type?this.type-e.type:cmp2(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){return this}evaluate(e){return"string"!=typeof this.value&&parseFloat(e.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=ContextKeySmallerEqualsExpr.create(this.key,this.value,this)),this.negated}}class ContextKeyGreaterEqualsExpr{static create(e,t,r=null){return withFloatOrStr(t,(t=>new ContextKeyGreaterEqualsExpr(e,t,r)))}constructor(e,t,r){this.key=e,this.value=t,this.negated=r,this.type=13}cmp(e){return e.type!==this.type?this.type-e.type:cmp2(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){return this}evaluate(e){return"string"!=typeof this.value&&parseFloat(e.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=ContextKeySmallerExpr.create(this.key,this.value,this)),this.negated}}class ContextKeySmallerExpr{static create(e,t,r=null){return withFloatOrStr(t,(t=>new ContextKeySmallerExpr(e,t,r)))}constructor(e,t,r){this.key=e,this.value=t,this.negated=r,this.type=14}cmp(e){return e.type!==this.type?this.type-e.type:cmp2(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){return this}evaluate(e){return"string"!=typeof this.value&&parseFloat(e.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=ContextKeyGreaterEqualsExpr.create(this.key,this.value,this)),this.negated}}class ContextKeySmallerEqualsExpr{static create(e,t,r=null){return withFloatOrStr(t,(t=>new ContextKeySmallerEqualsExpr(e,t,r)))}constructor(e,t,r){this.key=e,this.value=t,this.negated=r,this.type=15}cmp(e){return e.type!==this.type?this.type-e.type:cmp2(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}substituteConstants(){return this}evaluate(e){return"string"!=typeof this.value&&parseFloat(e.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=ContextKeyGreaterExpr.create(this.key,this.value,this)),this.negated}}class ContextKeyRegexExpr{static create(e,t){return new ContextKeyRegexExpr(e,t)}constructor(e,t){this.key=e,this.regexp=t,this.type=7,this.negated=null}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.key<e.key)return-1;if(this.key>e.key)return 1;const t=this.regexp?this.regexp.source:"",r=e.regexp?e.regexp.source:"";return t<r?-1:t>r?1:0}equals(e){if(e.type===this.type){const t=this.regexp?this.regexp.source:"",r=e.regexp?e.regexp.source:"";return this.key===e.key&&t===r}return!1}substituteConstants(){return this}evaluate(e){const t=e.getValue(this.key);return!!this.regexp&&this.regexp.test(t)}serialize(){const e=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${e}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=ContextKeyNotRegexExpr.create(this)),this.negated}}class ContextKeyNotRegexExpr{static create(e){return new ContextKeyNotRegexExpr(e)}constructor(e){this._actual=e,this.type=8}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type&&this._actual.equals(e._actual)}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}negate(){return this._actual}}function eliminateConstantsInArray(e){let t=null;for(let r=0,s=e.length;r<s;r++){const s=e[r].substituteConstants();if(e[r]!==s&&null===t){t=[];for(let s=0;s<r;s++)t[s]=e[s]}null!==t&&(t[r]=s)}return null===t?e:t}class ContextKeyAndExpr{static create(e,t,r){return ContextKeyAndExpr._normalizeArr(e,t,r)}constructor(e,t){this.expr=e,this.negated=t,this.type=6}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,r=this.expr.length;t<r;t++){const r=cmp(this.expr[t],e.expr[t]);if(0!==r)return r}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,r=this.expr.length;t<r;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){const e=eliminateConstantsInArray(this.expr);return e===this.expr?this:ContextKeyAndExpr.create(e,this.negated,!1)}evaluate(e){for(let t=0,r=this.expr.length;t<r;t++)if(!this.expr[t].evaluate(e))return!1;return!0}static _normalizeArr(e,t,r){const s=[];let n=!1;for(const t of e)if(t)if(1!==t.type){if(0===t.type)return ContextKeyFalseExpr.INSTANCE;6!==t.type?s.push(t):s.push(...t.expr)}else n=!0;if(0===s.length&&n)return ContextKeyTrueExpr.INSTANCE;if(0!==s.length){if(1===s.length)return s[0];s.sort(cmp);for(let e=1;e<s.length;e++)s[e-1].equals(s[e])&&(s.splice(e,1),e--);if(1===s.length)return s[0];for(;s.length>1;){const e=s[s.length-1];if(9!==e.type)break;s.pop();const t=s.pop(),n=0===s.length,i=ContextKeyOrExpr.create(e.expr.map((e=>ContextKeyAndExpr.create([e,t],null,r))),null,n);i&&(s.push(i),s.sort(cmp))}if(1===s.length)return s[0];if(r){for(let e=0;e<s.length;e++)for(let t=e+1;t<s.length;t++)if(s[e].negate().equals(s[t]))return ContextKeyFalseExpr.INSTANCE;if(1===s.length)return s[0]}return new ContextKeyAndExpr(s,t)}}serialize(){return this.expr.map((e=>e.serialize())).join(" && ")}keys(){const e=[];for(const t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){const e=[];for(const t of this.expr)e.push(t.negate());this.negated=ContextKeyOrExpr.create(e,this,!0)}return this.negated}}class ContextKeyOrExpr{static create(e,t,r){return ContextKeyOrExpr._normalizeArr(e,t,r)}constructor(e,t){this.expr=e,this.negated=t,this.type=9}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,r=this.expr.length;t<r;t++){const r=cmp(this.expr[t],e.expr[t]);if(0!==r)return r}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,r=this.expr.length;t<r;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){const e=eliminateConstantsInArray(this.expr);return e===this.expr?this:ContextKeyOrExpr.create(e,this.negated,!1)}evaluate(e){for(let t=0,r=this.expr.length;t<r;t++)if(this.expr[t].evaluate(e))return!0;return!1}static _normalizeArr(e,t,r){let s=[],n=!1;if(e){for(let t=0,r=e.length;t<r;t++){const r=e[t];if(r)if(0!==r.type){if(1===r.type)return ContextKeyTrueExpr.INSTANCE;9!==r.type?s.push(r):s=s.concat(r.expr)}else n=!0}if(0===s.length&&n)return ContextKeyFalseExpr.INSTANCE;s.sort(cmp)}if(0!==s.length){if(1===s.length)return s[0];for(let e=1;e<s.length;e++)s[e-1].equals(s[e])&&(s.splice(e,1),e--);if(1===s.length)return s[0];if(r){for(let e=0;e<s.length;e++)for(let t=e+1;t<s.length;t++)if(s[e].negate().equals(s[t]))return ContextKeyTrueExpr.INSTANCE;if(1===s.length)return s[0]}return new ContextKeyOrExpr(s,t)}}serialize(){return this.expr.map((e=>e.serialize())).join(" || ")}keys(){const e=[];for(const t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){const e=[];for(const t of this.expr)e.push(t.negate());for(;e.length>1;){const t=e.shift(),r=e.shift(),s=[];for(const e of getTerminals(t))for(const t of getTerminals(r))s.push(ContextKeyAndExpr.create([e,t],null,!1));e.unshift(ContextKeyOrExpr.create(s,null,!1))}this.negated=ContextKeyOrExpr.create(e,this,!0)}return this.negated}}class RawContextKey extends ContextKeyDefinedExpr{static{this._info=[]}static all(){return RawContextKey._info.values()}constructor(e,t,r){super(e,null),this._defaultValue=t,"object"==typeof r?RawContextKey._info.push({...r,key:e}):!0!==r&&RawContextKey._info.push({key:e,description:r,type:null!=t?typeof t:void 0})}bindTo(e){return e.createKey(this.key,this._defaultValue)}getValue(e){return e.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(e){return ContextKeyEqualsExpr.create(this.key,e)}}const C=(0,u.u1)("contextKeyService");function cmp1(e,t){return e<t?-1:e>t?1:0}function cmp2(e,t,r,s){return e<r?-1:e>r?1:t<s?-1:t>s?1:0}function implies(e,t){if(0===e.type||1===t.type)return!0;if(9===e.type)return 9===t.type&&allElementsIncluded(e.expr,t.expr);if(9===t.type){for(const r of t.expr)if(implies(e,r))return!0;return!1}if(6===e.type){if(6===t.type)return allElementsIncluded(t.expr,e.expr);for(const r of e.expr)if(implies(r,t))return!0;return!1}return e.equals(t)}function allElementsIncluded(e,t){let r=0,s=0;for(;r<e.length&&s<t.length;){const n=e[r].cmp(t[s]);if(n<0)return!1;0===n?(r++,s++):s++}return r===e.length}function getTerminals(e){return 9===e.type?e.expr:[e]}},46441(e,t,r){r.d(t,{$b:()=>o,Cr:()=>ConsoleLogger,Dk:()=>MultiplexLogger,rr:()=>a});var s=r(2106),n=r(10998),i=r(31540);const a=(0,r(82399).u1)("logService");var o;!function(e){e[e.Off=0]="Off",e[e.Trace=1]="Trace",e[e.Debug=2]="Debug",e[e.Info=3]="Info",e[e.Warning=4]="Warning",e[e.Error=5]="Error"}(o||(o={}));const h=o.Info;class AbstractLogger extends n.jG{constructor(){super(...arguments),this.level=h,this._onDidChangeLogLevel=this._register(new s.vl),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(e){this.level!==e&&(this.level=e,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}checkLogLevel(e){return this.level!==o.Off&&this.level<=e}}class ConsoleLogger extends AbstractLogger{constructor(e=h,t=!0){super(),this.useColors=t,this.setLevel(e)}trace(e,...t){this.checkLogLevel(o.Trace)&&(this.useColors?console.log("%cTRACE","color: #888",e,...t):console.log(e,...t))}debug(e,...t){this.checkLogLevel(o.Debug)&&(this.useColors?console.log("%cDEBUG","background: #eee; color: #888",e,...t):console.log(e,...t))}info(e,...t){this.checkLogLevel(o.Info)&&(this.useColors?console.log("%c INFO","color: #33f",e,...t):console.log(e,...t))}warn(e,...t){this.checkLogLevel(o.Warning)&&(this.useColors?console.log("%c WARN","color: #993",e,...t):console.log(e,...t))}error(e,...t){this.checkLogLevel(o.Error)&&(this.useColors?console.log("%c  ERR","color: #f33",e,...t):console.error(e,...t))}}class MultiplexLogger extends AbstractLogger{constructor(e){super(),this.loggers=e,e.length&&this.setLevel(e[0].getLevel())}setLevel(e){for(const t of this.loggers)t.setLevel(e);super.setLevel(e)}trace(e,...t){for(const r of this.loggers)r.trace(e,...t)}debug(e,...t){for(const r of this.loggers)r.debug(e,...t)}info(e,...t){for(const r of this.loggers)r.info(e,...t)}warn(e,...t){for(const r of this.loggers)r.warn(e,...t)}error(e,...t){for(const r of this.loggers)r.error(e,...t)}dispose(){for(const e of this.loggers)e.dispose();super.dispose()}}new i.N1("logLevel",function LogLevelToString(e){switch(e){case o.Trace:return"trace";case o.Debug:return"debug";case o.Info:return"info";case o.Warning:return"warn";case o.Error:return"error";case o.Off:return"off"}}(o.Info))},67167(e,t,r){r.d(t,{O:()=>i});var s=r(87110),n=r(79359);const i=new class RegistryImpl{constructor(){this.data=new Map}add(e,t){s.ok(n.Kg(e)),s.ok(n.Gv(t)),s.ok(!this.data.has(e),"There is already an extension with this id"),this.data.set(e,t)}as(e){return this.data.get(e)||null}}},77922(e,t,r){r.d(t,{L:()=>s});const s=(0,r(82399).u1)("languageService")},82399(e,t,r){var s;r.d(t,{_$:()=>s,_Y:()=>n,u1:()=>createDecorator}),function(e){e.serviceIds=new Map,e.DI_TARGET="$di$target",e.DI_DEPENDENCIES="$di$dependencies",e.getServiceDependencies=function getServiceDependencies(t){return t[e.DI_DEPENDENCIES]||[]}}(s||(s={}));const n=createDecorator("instantiationService");function createDecorator(e){if(s.serviceIds.has(e))return s.serviceIds.get(e);const id=function(e,t,r){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");!function storeServiceDependency(e,t,r){t[s.DI_TARGET]===t?t[s.DI_DEPENDENCIES].push({id:e,index:r}):(t[s.DI_DEPENDENCIES]=[{id:e,index:r}],t[s.DI_TARGET]=t)}(id,e,r)};return id.toString=()=>e,s.serviceIds.set(e,id),id}},89044(e,t,r){r.d(t,{Fd:()=>u,Gy:()=>h,Pz:()=>getThemeTypeSelector,Yf:()=>themeColorFromId,lR:()=>Themable,zy:()=>registerThemingParticipant});var s=r(2106),n=r(10998),i=r(82399),a=r(67167),o=r(89563);const h=(0,i.u1)("themeService");function themeColorFromId(e){return{id:e}}function getThemeTypeSelector(e){switch(e){case o.zM.DARK:return"vs-dark";case o.zM.HIGH_CONTRAST_DARK:return"hc-black";case o.zM.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}const u={ThemingContribution:"base.contributions.theming"};const l=new class ThemingRegistry{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new s.vl}onColorThemeChange(e){return this.themingParticipants.push(e),this.onThemingParticipantAddedEmitter.fire(e),(0,n.s)((()=>{const t=this.themingParticipants.indexOf(e);this.themingParticipants.splice(t,1)}))}getThemingParticipants(){return this.themingParticipants}};function registerThemingParticipant(e){return l.onColorThemeChange(e)}a.O.add(u.ThemingContribution,l);class Themable extends n.jG{constructor(e){super(),this.themeService=e,this.theme=e.getColorTheme(),this._register(this.themeService.onDidColorThemeChange((e=>this.onThemeChange(e))))}onThemeChange(e){this.theme=e,this.updateStyles()}updateStyles(){}}},89563(e,t,r){var s;function isHighContrast(e){return e===s.HIGH_CONTRAST_DARK||e===s.HIGH_CONTRAST_LIGHT}function isDark(e){return e===s.DARK||e===s.HIGH_CONTRAST_DARK}r.d(t,{Bb:()=>isHighContrast,HD:()=>isDark,zM:()=>s}),function(e){e.DARK="dark",e.LIGHT="light",e.HIGH_CONTRAST_DARK="hcDark",e.HIGH_CONTRAST_LIGHT="hcLight"}(s||(s={}))}}]);