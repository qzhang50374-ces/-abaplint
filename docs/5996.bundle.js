"use strict";(self.webpackChunkabaplint_playground=self.webpackChunkabaplint_playground||[]).push([[5996],{22467(e,t,r){r.d(t,{B6:()=>b,Fd:()=>m,LC:()=>h,P8:()=>g,Pi:()=>f,er:()=>l,iZ:()=>v,n4:()=>c,o1:()=>P,pD:()=>p,su:()=>originalFSPath,uJ:()=>d});var n=r(78518),i=r(13072),a=r(18019),o=r(63339),s=r(16844),u=r(37264);function originalFSPath(e){return(0,u.I)(e,!0)}class ExtUri{constructor(e){this._ignorePathCasing=e}compare(e,t,r=!1){return e===t?0:(0,s.UD)(this.getComparisonKey(e,r),this.getComparisonKey(t,r))}isEqual(e,t,r=!1){return e===t||!(!e||!t)&&this.getComparisonKey(e,r)===this.getComparisonKey(t,r)}getComparisonKey(e,t=!1){return e.with({path:this._ignorePathCasing(e)?e.path.toLowerCase():void 0,fragment:t?null:void 0}).toString()}isEqualOrParent(e,t,r=!1){if(e.scheme===t.scheme){if(e.scheme===i.ny.file)return n._1(originalFSPath(e),originalFSPath(t),this._ignorePathCasing(e))&&e.query===t.query&&(r||e.fragment===t.fragment);if(y(e.authority,t.authority))return n._1(e.path,t.path,this._ignorePathCasing(e),"/")&&e.query===t.query&&(r||e.fragment===t.fragment)}return!1}joinPath(e,...t){return u.r.joinPath(e,...t)}basenameOrAuthority(e){return g(e)||e.authority}basename(e){return a.SA.basename(e.path)}extname(e){return a.SA.extname(e.path)}dirname(e){if(0===e.path.length)return e;let t;return e.scheme===i.ny.file?t=u.r.file(a.pD(originalFSPath(e))).path:(t=a.SA.dirname(e.path),e.authority&&t.length&&47!==t.charCodeAt(0)&&(console.error(`dirname("${e.toString})) resulted in a relative path`),t="/")),e.with({path:t})}normalizePath(e){if(!e.path.length)return e;let t;return t=e.scheme===i.ny.file?u.r.file(a.S8(originalFSPath(e))).path:a.SA.normalize(e.path),e.with({path:t})}relativePath(e,t){if(e.scheme!==t.scheme||!y(e.authority,t.authority))return;if(e.scheme===i.ny.file){const r=a.V8(originalFSPath(e),originalFSPath(t));return o.uF?n.TH(r):r}let r=e.path||"/";const s=t.path||"/";if(this._ignorePathCasing(e)){let e=0;for(const t=Math.min(r.length,s.length);e<t&&(r.charCodeAt(e)===s.charCodeAt(e)||r.charAt(e).toLowerCase()===s.charAt(e).toLowerCase());e++);r=s.substr(0,e)+r.substr(e)}return a.SA.relative(r,s)}resolvePath(e,t){if(e.scheme===i.ny.file){const r=u.r.file(a.hd(originalFSPath(e),t));return e.with({authority:r.authority,path:r.path})}return t=n.kb(t),e.with({path:a.SA.resolve(e.path,t)})}isAbsolutePath(e){return!!e.path&&"/"===e.path[0]}isEqualAuthority(e,t){return e===t||void 0!==e&&void 0!==t&&(0,s.Q_)(e,t)}hasTrailingPathSeparator(e,t=a.Vn){if(e.scheme===i.ny.file){const r=originalFSPath(e);return r.length>n.Zn(r).length&&r[r.length-1]===t}{const t=e.path;return t.length>1&&47===t.charCodeAt(t.length-1)&&!/^[a-zA-Z]:(\/$|\\$)/.test(e.fsPath)}}removeTrailingPathSeparator(e,t=a.Vn){return C(e,t)?e.with({path:e.path.substr(0,e.path.length-1)}):e}addTrailingPathSeparator(e,t=a.Vn){let r=!1;if(e.scheme===i.ny.file){const i=originalFSPath(e);r=void 0!==i&&i.length===n.Zn(i).length&&i[i.length-1]===t}else{t="/";const n=e.path;r=1===n.length&&47===n.charCodeAt(n.length-1)}return r||C(e,t)?e:e.with({path:e.path+"/"})}}const l=new ExtUri((()=>!1)),c=(new ExtUri((e=>e.scheme!==i.ny.file||!o.j9)),new ExtUri((e=>!0)),l.isEqual.bind(l)),f=(l.isEqualOrParent.bind(l),l.getComparisonKey.bind(l),l.basenameOrAuthority.bind(l)),g=l.basename.bind(l),h=l.extname.bind(l),p=l.dirname.bind(l),d=l.joinPath.bind(l),m=l.normalizePath.bind(l),v=l.relativePath.bind(l),P=l.resolvePath.bind(l),y=(l.isAbsolutePath.bind(l),l.isEqualAuthority.bind(l)),C=l.hasTrailingPathSeparator.bind(l);l.removeTrailingPathSeparator.bind(l),l.addTrailingPathSeparator.bind(l);var b;!function(e){e.META_DATA_LABEL="label",e.META_DATA_DESCRIPTION="description",e.META_DATA_SIZE="size",e.META_DATA_MIME="mime",e.parseMetaData=function parseMetaData(t){const r=new Map;t.path.substring(t.path.indexOf(";")+1,t.path.lastIndexOf(";")).split(";").forEach((e=>{const[t,n]=e.split(":");t&&n&&r.set(t,n)}));const n=t.path.substring(0,t.path.indexOf(";"));return n&&r.set(e.META_DATA_MIME,n),r}}(b||(b={}))},27142(e,t,r){r.d(t,{Fd:()=>c,Gv:()=>overrideIdentifiersFromKey,rC:()=>w});var n=r(13338),i=r(2106),a=r(79359),o=r(19746),s=r(85753),u=r(51460),l=r(67167);const c={Configuration:"base.contributions.configuration"},f={properties:{},patternProperties:{}},g={properties:{},patternProperties:{}},h={properties:{},patternProperties:{}},p={properties:{},patternProperties:{}},d={properties:{},patternProperties:{}},m={properties:{},patternProperties:{}},v="vscode://schemas/settings/resourceLanguage",P=l.O.as(u.F.JSONContribution);const y="\\[([^\\]]+)\\]",C=new RegExp(y,"g"),b=`^(${y})+$`,w=new RegExp(b);function overrideIdentifiersFromKey(e){const t=[];if(w.test(e)){let r=C.exec(e);for(;r?.length;){const n=r[1].trim();n&&t.push(n),r=C.exec(e)}}return(0,n.dM)(t)}const S=new class ConfigurationRegistry{constructor(){this.registeredConfigurationDefaults=[],this.overrideIdentifiers=new Set,this._onDidSchemaChange=new i.vl,this._onDidUpdateConfiguration=new i.vl,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:o.kg("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},P.registerSchema(v,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(e,t=!0){this.registerConfigurations([e],t)}registerConfigurations(e,t=!0){const r=new Set;this.doRegisterConfigurations(e,t,r),P.registerSchema(v,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:r})}registerDefaultConfigurations(e){const t=new Set;this.doRegisterDefaultConfigurations(e,t),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:t,defaultsOverrides:!0})}doRegisterDefaultConfigurations(e,t){this.registeredConfigurationDefaults.push(...e);const r=[];for(const{overrides:n,source:i}of e)for(const e in n){t.add(e);const a=this.configurationDefaultsOverrides.get(e)??this.configurationDefaultsOverrides.set(e,{configurationDefaultOverrides:[]}).get(e),o=n[e];if(a.configurationDefaultOverrides.push({value:o,source:i}),w.test(e)){const t=this.mergeDefaultConfigurationsForOverrideIdentifier(e,o,i,a.configurationDefaultOverrideValue);if(!t)continue;a.configurationDefaultOverrideValue=t,this.updateDefaultOverrideProperty(e,t,i),r.push(...overrideIdentifiersFromKey(e))}else{const t=this.mergeDefaultConfigurationsForConfigurationProperty(e,o,i,a.configurationDefaultOverrideValue);if(!t)continue;a.configurationDefaultOverrideValue=t;const r=this.configurationProperties[e];r&&(this.updatePropertyDefaultValue(e,r),this.updateSchema(e,r))}}this.doRegisterOverrideIdentifiers(r)}updateDefaultOverrideProperty(e,t,r){const n={type:"object",default:t.value,description:o.kg("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",(0,s.Mo)(e)),$ref:v,defaultDefaultValue:t.value,source:r,defaultValueSource:r};this.configurationProperties[e]=n,this.defaultLanguageConfigurationOverridesNode.properties[e]=n}mergeDefaultConfigurationsForOverrideIdentifier(e,t,r,n){const i=n?.value||{},o=n?.source??new Map;if(o instanceof Map){for(const e of Object.keys(t)){const n=t[e];if(a.Gv(n)&&(a.b0(i[e])||a.Gv(i[e]))){if(i[e]={...i[e]??{},...n},r)for(const t in n)o.set(`${e}.${t}`,r)}else i[e]=n,r?o.set(e,r):o.delete(e)}return{value:i,source:o}}console.error("objectConfigurationSources is not a Map")}mergeDefaultConfigurationsForConfigurationProperty(e,t,r,n){const i=this.configurationProperties[e],o=n?.value??i?.defaultDefaultValue;let s=r;if(a.Gv(t)&&(void 0!==i&&"object"===i.type||void 0===i&&(a.b0(o)||a.Gv(o)))){if(s=n?.source??new Map,!(s instanceof Map))return void console.error("defaultValueSource is not a Map");for(const n in t)r&&s.set(`${e}.${n}`,r);t={...a.Gv(o)?o:{},...t}}return{value:t,source:s}}registerOverrideIdentifiers(e){this.doRegisterOverrideIdentifiers(e),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(e){for(const t of e)this.overrideIdentifiers.add(t);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(e,t,r){e.forEach((e=>{this.validateAndRegisterProperties(e,t,e.extensionInfo,e.restrictedProperties,void 0,r),this.configurationContributors.push(e),this.registerJSONConfiguration(e)}))}validateAndRegisterProperties(e,t=!0,r,n,i=3,o){i=a.z(e.scope)?i:e.scope;const s=e.properties;if(s)for(const e in s){const u=s[e];t&&validateProperty(e,u)?delete s[e]:(u.source=r,u.defaultDefaultValue=s[e].default,this.updatePropertyDefaultValue(e,u),w.test(e)?u.scope=void 0:(u.scope=a.z(u.scope)?i:u.scope,u.restricted=a.z(u.restricted)?!!n?.includes(e):u.restricted),!s[e].hasOwnProperty("included")||s[e].included?(this.configurationProperties[e]=s[e],s[e].policy?.name&&this.policyConfigurations.set(s[e].policy.name,e),!s[e].deprecationMessage&&s[e].markdownDeprecationMessage&&(s[e].deprecationMessage=s[e].markdownDeprecationMessage),o.add(e)):(this.excludedConfigurationProperties[e]=s[e],delete s[e]))}const u=e.allOf;if(u)for(const e of u)this.validateAndRegisterProperties(e,t,r,n,i,o)}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(e){const register=e=>{const t=e.properties;if(t)for(const e in t)this.updateSchema(e,t[e]);const r=e.allOf;r?.forEach(register)};register(e)}updateSchema(e,t){switch(f.properties[e]=t,t.scope){case 1:g.properties[e]=t;break;case 2:h.properties[e]=t;break;case 6:p.properties[e]=t;break;case 3:d.properties[e]=t;break;case 4:m.properties[e]=t;break;case 5:m.properties[e]=t,this.resourceLanguageSettingsSchema.properties[e]=t}}updateOverridePropertyPatternKey(){for(const e of this.overrideIdentifiers.values()){const t=`[${e}]`,r={type:"object",description:o.kg("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:o.kg("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:v};this.updatePropertyDefaultValue(t,r),f.properties[t]=r,g.properties[t]=r,h.properties[t]=r,p.properties[t]=r,d.properties[t]=r,m.properties[t]=r}}registerOverridePropertyPatternKey(){const e={type:"object",description:o.kg("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:o.kg("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:v};f.patternProperties[b]=e,g.patternProperties[b]=e,h.patternProperties[b]=e,p.patternProperties[b]=e,d.patternProperties[b]=e,m.patternProperties[b]=e,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(e,t){const r=this.configurationDefaultsOverrides.get(e)?.configurationDefaultOverrideValue;let n,i;!r||t.disallowConfigurationDefault&&r.source||(n=r.value,i=r.source),a.b0(n)&&(n=t.defaultDefaultValue,i=void 0),a.b0(n)&&(n=function getDefaultValue(e){switch(Array.isArray(e)?e[0]:e){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}(t.type)),t.default=n,t.defaultValueSource=i}};function validateProperty(e,t){return e.trim()?w.test(e)?o.kg("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",e):void 0!==S.getConfigurationProperties()[e]?o.kg("config.property.duplicate","Cannot register '{0}'. This property is already registered.",e):t.policy?.name&&void 0!==S.getPolicyConfigurations().get(t.policy?.name)?o.kg("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",e,t.policy?.name,S.getPolicyConfigurations().get(t.policy?.name)):null:o.kg("config.property.empty","Cannot register an empty property")}l.O.add(c.Configuration,S)},51460(e,t,r){r.d(t,{F:()=>a});var n=r(2106),i=r(67167);const a={JSONContribution:"base.contributions.json"};const o=new class JSONContributionRegistry{constructor(){this._onDidChangeSchema=new n.vl,this.schemasById={}}registerSchema(e,t){this.schemasById[function normalizeId(e){return e.length>0&&"#"===e.charAt(e.length-1)?e.substring(0,e.length-1):e}(e)]=t,this._onDidChangeSchema.fire(e)}notifySchemaChanged(e){this._onDidChangeSchema.fire(e)}};i.O.add(a.JSONContribution,o)},53720(e,t,r){r.d(t,{K:()=>n});const n=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})},54957(e,t,r){r.d(t,{W6:()=>u,vH:()=>l});var n=r(19746),i=r(2106),a=r(67167),o=r(53720),s=r(27142);const u=new class EditorModesRegistry{constructor(){this._onDidChangeLanguages=new i.vl,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(e){return this._languages.push(e),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let t=0,r=this._languages.length;t<r;t++)if(this._languages[t]===e)return void this._languages.splice(t,1)}}}getLanguages(){return this._languages}};a.O.add("editor.modesRegistry",u);const l="plaintext";u.registerLanguage({id:l,extensions:[".txt"],aliases:[n.kg("plainText.alias","Plain Text"),"text"],mimetypes:[o.K.text]}),a.O.as(s.Fd.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])},55996(e,t,r){r.r(t),r.d(t,{clearPlatformLanguageAssociations:()=>clearPlatformLanguageAssociations,getLanguageIds:()=>getLanguageIds,registerPlatformLanguageAssociation:()=>registerPlatformLanguageAssociation});var n=r(83958),i=r(53720),a=r(13072),o=r(18019),s=r(22467),u=r(16844),l=r(54957);let c=[],f=[],g=[];function registerPlatformLanguageAssociation(e,t=!1){!function _registerLanguageAssociation(e,t,r){const i=function toLanguageAssociationItem(e,t){return{id:e.id,mime:e.mime,filename:e.filename,extension:e.extension,filepattern:e.filepattern,firstline:e.firstline,userConfigured:t,filenameLowercase:e.filename?e.filename.toLowerCase():void 0,extensionLowercase:e.extension?e.extension.toLowerCase():void 0,filepatternLowercase:e.filepattern?(0,n.qg)(e.filepattern.toLowerCase()):void 0,filepatternOnPath:!!e.filepattern&&e.filepattern.indexOf(o.SA.sep)>=0}}(e,t);c.push(i),i.userConfigured?g.push(i):f.push(i);r&&!i.userConfigured&&c.forEach((e=>{e.mime===i.mime||e.userConfigured||(i.extension&&e.extension===i.extension&&console.warn(`Overwriting extension <<${i.extension}>> to now point to mime <<${i.mime}>>`),i.filename&&e.filename===i.filename&&console.warn(`Overwriting filename <<${i.filename}>> to now point to mime <<${i.mime}>>`),i.filepattern&&e.filepattern===i.filepattern&&console.warn(`Overwriting filepattern <<${i.filepattern}>> to now point to mime <<${i.mime}>>`),i.firstline&&e.firstline===i.firstline&&console.warn(`Overwriting firstline <<${i.firstline}>> to now point to mime <<${i.mime}>>`))}))}(e,!1,t)}function clearPlatformLanguageAssociations(){c=c.filter((e=>e.userConfigured)),f=[]}function getLanguageIds(e,t){return function getAssociations(e,t){let r;if(e)switch(e.scheme){case a.ny.file:r=e.fsPath;break;case a.ny.data:r=s.B6.parseMetaData(e).get(s.B6.META_DATA_LABEL);break;case a.ny.vscodeNotebookCell:r=void 0;break;default:r=e.path}if(!r)return[{id:"unknown",mime:i.K.unknown}];r=r.toLowerCase();const n=(0,o.P8)(r),h=getAssociationByPath(r,n,g);if(h)return[h,{id:l.vH,mime:i.K.text}];const p=getAssociationByPath(r,n,f);if(p)return[p,{id:l.vH,mime:i.K.text}];if(t){const e=function getAssociationByFirstline(e){(0,u.LU)(e)&&(e=e.substr(1));if(e.length>0)for(let t=c.length-1;t>=0;t--){const r=c[t];if(!r.firstline)continue;const n=e.match(r.firstline);if(n&&n.length>0)return r}return}(t);if(e)return[e,{id:l.vH,mime:i.K.text}]}return[{id:"unknown",mime:i.K.unknown}]}(e,t).map((e=>e.id))}function getAssociationByPath(e,t,r){let n,i,a;for(let o=r.length-1;o>=0;o--){const s=r[o];if(t===s.filenameLowercase){n=s;break}if(s.filepattern&&(!i||s.filepattern.length>i.filepattern.length)){const r=s.filepatternOnPath?e:t;s.filepatternLowercase?.(r)&&(i=s)}s.extension&&(!a||s.extension.length>a.extension.length)&&t.endsWith(s.extensionLowercase)&&(a=s)}return n||(i||(a||void 0))}},67167(e,t,r){r.d(t,{O:()=>a});var n=r(87110),i=r(79359);const a=new class RegistryImpl{constructor(){this.data=new Map}add(e,t){n.ok(i.Kg(e)),n.ok(i.Gv(t)),n.ok(!this.data.has(e),"There is already an extension with this id"),this.data.set(e,t)}as(e){return this.data.get(e)||null}}},78518(e,t,r){r.d(t,{No:()=>hasDriveLetter,TH:()=>toSlashes,Zn:()=>getRoot,_1:()=>isEqualOrParent,kb:()=>toPosixPath});var n=r(18019),i=r(63339),a=r(16844);function isPathSeparator(e){return 47===e||92===e}function toSlashes(e){return e.replace(/[\\/]/g,n.SA.sep)}function toPosixPath(e){return-1===e.indexOf("/")&&(e=toSlashes(e)),/^[a-zA-Z]:(\/|$)/.test(e)&&(e="/"+e),e}function getRoot(e,t=n.SA.sep){if(!e)return"";const r=e.length,i=e.charCodeAt(0);if(isPathSeparator(i)){if(isPathSeparator(e.charCodeAt(1))&&!isPathSeparator(e.charCodeAt(2))){let n=3;const i=n;for(;n<r&&!isPathSeparator(e.charCodeAt(n));n++);if(i!==n&&!isPathSeparator(e.charCodeAt(n+1)))for(n+=1;n<r;n++)if(isPathSeparator(e.charCodeAt(n)))return e.slice(0,n+1).replace(/[\\/]/g,t)}return t}if(isWindowsDriveLetter(i)&&58===e.charCodeAt(1))return isPathSeparator(e.charCodeAt(2))?e.slice(0,2)+t:e.slice(0,2);let a=e.indexOf("://");if(-1!==a)for(a+=3;a<r;a++)if(isPathSeparator(e.charCodeAt(a)))return e.slice(0,a+1);return""}function isEqualOrParent(e,t,r,i=n.Vn){if(e===t)return!0;if(!e||!t)return!1;if(t.length>e.length)return!1;if(r){if(!(0,a.ns)(e,t))return!1;if(t.length===e.length)return!0;let r=t.length;return t.charAt(t.length-1)===i&&r--,e.charAt(r)===i}return t.charAt(t.length-1)!==i&&(t+=i),0===e.indexOf(t)}function isWindowsDriveLetter(e){return e>=65&&e<=90||e>=97&&e<=122}function hasDriveLetter(e,t=i.uF){return!!t&&(isWindowsDriveLetter(e.charCodeAt(0))&&58===e.charCodeAt(1))}},82399(e,t,r){var n;r.d(t,{_$:()=>n,_Y:()=>i,u1:()=>createDecorator}),function(e){e.serviceIds=new Map,e.DI_TARGET="$di$target",e.DI_DEPENDENCIES="$di$dependencies",e.getServiceDependencies=function getServiceDependencies(t){return t[e.DI_DEPENDENCIES]||[]}}(n||(n={}));const i=createDecorator("instantiationService");function createDecorator(e){if(n.serviceIds.has(e))return n.serviceIds.get(e);const id=function(e,t,r){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");!function storeServiceDependency(e,t,r){t[n.DI_TARGET]===t?t[n.DI_DEPENDENCIES].push({id:e,index:r}):(t[n.DI_DEPENDENCIES]=[{id:e,index:r}],t[n.DI_TARGET]=t)}(id,e,r)};return id.toString=()=>e,n.serviceIds.set(e,id),id}},83958(e,t,r){r.d(t,{YW:()=>match,qg:()=>parse});var n=r(65958),i=r(78518),a=r(27992),o=r(18019),s=r(63339),u=r(16844);const l="**",c="[/\\\\]",f="[^/\\\\]",g=/\//g;function starsToRegExp(e,t){switch(e){case 0:return"";case 1:return`${f}*?`;default:return`(?:${c}|${f}+${c}${t?`|${c}${f}+`:""})*?`}}function splitGlobAware(e,t){if(!e)return[];const r=[];let n=!1,i=!1,a="";for(const o of e){switch(o){case t:if(!n&&!i){r.push(a),a="";continue}break;case"{":n=!0;break;case"}":n=!1;break;case"[":i=!0;break;case"]":i=!1}a+=o}return a&&r.push(a),r}function parseRegExp(e){if(!e)return"";let t="";const r=splitGlobAware(e,"/");if(r.every((e=>e===l)))t=".*";else{let e=!1;r.forEach(((n,i)=>{if(n===l){if(e)return;t+=starsToRegExp(2,i===r.length-1)}else{let e=!1,a="",o=!1,s="";for(const r of n)if("}"!==r&&e)a+=r;else if(!o||"]"===r&&s)switch(r){case"{":e=!0;continue;case"[":o=!0;continue;case"}":{const r=`(?:${splitGlobAware(a,",").map((e=>parseRegExp(e))).join("|")})`;t+=r,e=!1,a="";break}case"]":t+="["+s+"]",o=!1,s="";break;case"?":t+=f;continue;case"*":t+=starsToRegExp(1);continue;default:t+=(0,u.bm)(r)}else{let e;e="-"===r?r:"^"!==r&&"!"!==r||s?"/"===r?"":(0,u.bm)(r):"^",s+=e}i<r.length-1&&(r[i+1]!==l||i+2<r.length)&&(t+=c)}e=n===l}))}return t}const h=/^\*\*\/\*\.[\w\.-]+$/,p=/^\*\*\/([\w\.-]+)\/?$/,d=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,m=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,v=/^\*\*((\/[\w\.-]+)+)\/?$/,P=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,y=new a.qK(1e4),FALSE=function(){return!1},NULL=function(){return null};function parsePattern(e,t){if(!e)return NULL;let r;r="string"!=typeof e?e.pattern:e,r=r.trim();const n=`${r}_${!!t.trimForExclusions}`;let i,a=y.get(n);return a||(a=h.test(r)?function trivia1(e,t){return function(r,n){return"string"==typeof r&&r.endsWith(e)?t:null}}(r.substr(4),r):(i=p.exec(trimForExclusions(r,t)))?function trivia2(e,t){const r=`/${e}`,n=`\\${e}`,parsedPattern=function(i,a){return"string"!=typeof i?null:a?a===e?t:null:i===e||i.endsWith(r)||i.endsWith(n)?t:null},i=[e];return parsedPattern.basenames=i,parsedPattern.patterns=[t],parsedPattern.allBasenames=i,parsedPattern}(i[1],r):(t.trimForExclusions?m:d).test(r)?function trivia3(e,t){const r=aggregateBasenameMatches(e.slice(1,-1).split(",").map((e=>parsePattern(e,t))).filter((e=>e!==NULL)),e),n=r.length;if(!n)return NULL;if(1===n)return r[0];const parsedPattern=function(t,n){for(let i=0,a=r.length;i<a;i++)if(r[i](t,n))return e;return null},i=r.find((e=>!!e.allBasenames));i&&(parsedPattern.allBasenames=i.allBasenames);const a=r.reduce(((e,t)=>t.allPaths?e.concat(t.allPaths):e),[]);a.length&&(parsedPattern.allPaths=a);return parsedPattern}(r,t):(i=v.exec(trimForExclusions(r,t)))?trivia4and5(i[1].substr(1),r,!0):(i=P.exec(trimForExclusions(r,t)))?trivia4and5(i[1],r,!1):function toRegExp(e){try{const t=new RegExp(`^${parseRegExp(e)}$`);return function(r){return t.lastIndex=0,"string"==typeof r&&t.test(r)?e:null}}catch(e){return NULL}}(r),y.set(n,a)),wrapRelativePattern(a,e)}function wrapRelativePattern(e,t){if("string"==typeof t)return e;const wrappedPattern=function(r,n){return(0,i._1)(r,t.base,!s.j9)?e((0,u.NB)(r.substr(t.base.length),o.Vn),n):null};return wrappedPattern.allBasenames=e.allBasenames,wrappedPattern.allPaths=e.allPaths,wrappedPattern.basenames=e.basenames,wrappedPattern.patterns=e.patterns,wrappedPattern}function trimForExclusions(e,t){return t.trimForExclusions&&e.endsWith("/**")?e.substr(0,e.length-2):e}function trivia4and5(e,t,r){const n=o.Vn===o.SA.sep,i=n?e:e.replace(g,o.Vn),a=o.Vn+i,s=o.SA.sep+e;let u;return u=r?function(r,o){return"string"!=typeof r||r!==i&&!r.endsWith(a)&&(n||r!==e&&!r.endsWith(s))?null:t}:function(r,a){return"string"!=typeof r||r!==i&&(n||r!==e)?null:t},u.allPaths=[(r?"*/":"./")+e],u}function match(e,t,r){return!(!e||"string"!=typeof t)&&parse(e)(t,void 0,r)}function parse(e,t={}){if(!e)return FALSE;if("string"==typeof e||function isRelativePattern(e){const t=e;if(!t)return!1;return"string"==typeof t.base&&"string"==typeof t.pattern}(e)){const r=parsePattern(e,t);if(r===NULL)return FALSE;const resultPattern=function(e,t){return!!r(e,t)};return r.allBasenames&&(resultPattern.allBasenames=r.allBasenames),r.allPaths&&(resultPattern.allPaths=r.allPaths),resultPattern}return function parsedExpression(e,t){const r=aggregateBasenameMatches(Object.getOwnPropertyNames(e).map((r=>function parseExpressionPattern(e,t,r){if(!1===t)return NULL;const i=parsePattern(e,r);if(i===NULL)return NULL;if("boolean"==typeof t)return i;if(t){const r=t.when;if("string"==typeof r){const result=(t,a,o,s)=>{if(!s||!i(t,a))return null;const u=s(r.replace("$(basename)",(()=>o)));return(0,n.Qg)(u)?u.then((t=>t?e:null)):u?e:null};return result.requiresSiblings=!0,result}}return i}(r,e[r],t))).filter((e=>e!==NULL))),i=r.length;if(!i)return NULL;if(!r.some((e=>!!e.requiresSiblings))){if(1===i)return r[0];const resultExpression=function(e,t){let i;for(let a=0,o=r.length;a<o;a++){const o=r[a](e,t);if("string"==typeof o)return o;(0,n.Qg)(o)&&(i||(i=[]),i.push(o))}return i?(async()=>{for(const e of i){const t=await e;if("string"==typeof t)return t}return null})():null},e=r.find((e=>!!e.allBasenames));e&&(resultExpression.allBasenames=e.allBasenames);const t=r.reduce(((e,t)=>t.allPaths?e.concat(t.allPaths):e),[]);return t.length&&(resultExpression.allPaths=t),resultExpression}const resultExpression=function(e,t,i){let a,s;for(let u=0,l=r.length;u<l;u++){const l=r[u];l.requiresSiblings&&i&&(t||(t=(0,o.P8)(e)),a||(a=t.substr(0,t.length-(0,o.LC)(e).length)));const c=l(e,t,a,i);if("string"==typeof c)return c;(0,n.Qg)(c)&&(s||(s=[]),s.push(c))}return s?(async()=>{for(const e of s){const t=await e;if("string"==typeof t)return t}return null})():null},a=r.find((e=>!!e.allBasenames));a&&(resultExpression.allBasenames=a.allBasenames);const s=r.reduce(((e,t)=>t.allPaths?e.concat(t.allPaths):e),[]);s.length&&(resultExpression.allPaths=s);return resultExpression}(e,t)}function aggregateBasenameMatches(e,t){const r=e.filter((e=>!!e.basenames));if(r.length<2)return e;const n=r.reduce(((e,t)=>{const r=t.basenames;return r?e.concat(r):e}),[]);let i;if(t){i=[];for(let e=0,r=n.length;e<r;e++)i.push(t)}else i=r.reduce(((e,t)=>{const r=t.patterns;return r?e.concat(r):e}),[]);const aggregate=function(e,t){if("string"!=typeof e)return null;if(!t){let r;for(r=e.length;r>0;r--){const t=e.charCodeAt(r-1);if(47===t||92===t)break}t=e.substr(r)}const r=n.indexOf(t);return-1!==r?i[r]:null};aggregate.basenames=n,aggregate.patterns=i,aggregate.allBasenames=n;const a=e.filter((e=>!e.basenames));return a.push(aggregate),a}},85753(e,t,r){r.d(t,{Mo:()=>getLanguageTagSettingPlainKey,ad:()=>toValuesTree,gD:()=>getConfigurationValue,iB:()=>removeFromValueTree,kW:()=>addToValueTree,pG:()=>n});const n=(0,r(82399).u1)("configurationService");function toValuesTree(e,t){const r=Object.create(null);for(const n in e)addToValueTree(r,n,e[n],t);return r}function addToValueTree(e,t,r,n){const i=t.split("."),a=i.pop();let o=e;for(let e=0;e<i.length;e++){const r=i[e];let a=o[r];switch(typeof a){case"undefined":a=o[r]=Object.create(null);break;case"object":if(null===a)return void n(`Ignoring ${t} as ${i.slice(0,e+1).join(".")} is null`);break;default:return void n(`Ignoring ${t} as ${i.slice(0,e+1).join(".")} is ${JSON.stringify(a)}`)}o=a}if("object"==typeof o&&null!==o)try{o[a]=r}catch(e){n(`Ignoring ${t} as ${i.join(".")} is ${JSON.stringify(o)}`)}else n(`Ignoring ${t} as ${i.join(".")} is ${JSON.stringify(o)}`)}function removeFromValueTree(e,t){doRemoveFromValueTree(e,t.split("."))}function doRemoveFromValueTree(e,t){const r=t.shift();if(0!==t.length){if(-1!==Object.keys(e).indexOf(r)){const n=e[r];"object"!=typeof n||Array.isArray(n)||(doRemoveFromValueTree(n,t),0===Object.keys(n).length&&delete e[r])}}else delete e[r]}function getConfigurationValue(e,t,r){const n=function accessSetting(e,t){let r=e;for(const e of t){if("object"!=typeof r||null===r)return;r=r[e]}return r}(e,t.split("."));return void 0===n?r:n}function getLanguageTagSettingPlainKey(e){return e.replace(/[\[\]]/g,"")}}}]);